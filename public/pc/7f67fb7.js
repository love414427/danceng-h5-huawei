(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{445:function(e,t,r){"use strict";r(446)("link",(function(e){return function(t){return e(this,"a","href",t)}}))},446:function(e,t,r){var o=r(9),n=r(15),c=r(40),d=/"/g,l=function(e,t,r,o){var n=String(c(e)),l="<"+t;return""!==r&&(l+=" "+r+'="'+String(o).replace(d,"&quot;")+'"'),l+">"+n+"</"+t+">"};e.exports=function(e,t){var r={};r[e]=t(l),o(o.P+o.F*n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})),"String",r)}},451:function(e,t,r){e.exports=r.p+"img/store_qualify.8e11d80.png"},503:function(e,t,r){var content=r(621);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(3).default)("22fd2f45",content,!0,{sourceMap:!1})},619:function(e,t,r){e.exports=r.p+"img/store_closed.5d6b9cb.png"},620:function(e,t,r){"use strict";var o=r(503);r.n(o).a},621:function(e,t,r){(t=r(2)(!1)).push([e.i,'.content[data-v-e7b34d58]{margin-top:25px}.store-banner[data-v-e7b34d58]{width:100%;height:130px;overflow:hidden;min-width:1200px}.store-banner img[data-v-e7b34d58]{-o-object-fit:none;object-fit:none;width:100%;height:100%}.wrapper_1200[data-v-e7b34d58]{margin:0 auto}.menu-count[data-v-e7b34d58]{height:40px;background:#dfdfdf;min-width:1200px;width:100%}.user-menu[data-v-e7b34d58]{position:relative;justify-content:space-between;padding:0 10px}.user-menu .category[data-v-e7b34d58]{position:absolute;top:40px;left:0;background-color:rgba(254,248,248,.96);width:100%;padding:40px 20px 20px;z-index:10}.user-menu .category .name[data-v-e7b34d58]{width:130px;position:relative;padding-right:20px;margin-right:30px;cursor:pointer}.user-menu .category .name .iconfont[data-v-e7b34d58]{font-size:10px;position:absolute;right:0;top:3px;color:#282828}.user-menu .category .sortCon[data-v-e7b34d58]{width:1000px}.user-menu .category .sortCon .sub-item[data-v-e7b34d58]{margin:0 15px 15px;color:#666;cursor:pointer}.user-menu .category .erSort[data-v-e7b34d58]{align-items:center}.user-menu .category .item[data-v-e7b34d58]{margin-bottom:20px;align-items:baseline}.user-menu .category .moreBtn[data-v-e7b34d58]{color:#282828;font-size:12px;width:100px;height:26px;line-height:26px;text-align:center;border-radius:13px;border:1px solid #666}.user-menu .menu-main[data-v-e7b34d58]{width:300px;height:40px;justify-content:space-between}.user-menu .menu-main .menu-item[data-v-e7b34d58]{display:inline-block;height:26px;line-height:26px;color:#282828;padding:0 10px;cursor:pointer}.user-menu .menu-main .menu-item.active[data-v-e7b34d58]{color:#fff;background:#282828;border-radius:15px}.user-menu .menu-search[data-v-e7b34d58]{width:220px;height:24px;background-color:#fff;border-radius:17px}.user-menu .menu-search .text[data-v-e7b34d58]{width:175px}.user-menu .menu-search input[data-v-e7b34d58]{border:none;height:24px;line-height:24px;color:#999;padding:0 15px;border-radius:17px}.user-menu .menu-search input[data-v-e7b34d58]:focus{border:none;outline:none}.user-menu .menu-search .bnt[data-v-e7b34d58]{width:44px;background-color:#282828;color:#fff;border-radius:0 17px 17px 0;line-height:24px;text-align:center;cursor:pointer}.user-wrapper[data-v-e7b34d58]{width:1200px;margin:0 auto}.user-wrapper .left-box[data-v-e7b34d58]{width:224px;float:left}.user-wrapper .left-box .user-info[data-v-e7b34d58]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:370px;background:#fff;color:#282828;font-size:14px;padding:0 25px}.user-wrapper .left-box .user-info .store-basis[data-v-e7b34d58]{display:flex;flex-direction:column;align-items:center;justify-content:center;border-bottom:1px dashed #ececec;height:130px}.user-wrapper .left-box .user-info .store-basis .trader[data-v-e7b34d58]{display:inline-block;width:32px;height:18px;line-height:18px;text-align:center;color:#fff;background:#e93323;border-radius:2px;margin-right:3px;font-size:12px;font-family:"PingFang SC"}.user-wrapper .left-box .user-info .store-logo[data-v-e7b34d58]{width:61px;height:61px;margin-bottom:15px}.user-wrapper .left-box .user-info .store-logo img[data-v-e7b34d58]{width:61px;height:61px;border-radius:50%}.user-wrapper .left-box .user-info .name[data-v-e7b34d58]{margin-top:10px;padding:0 15px}.user-wrapper .left-box .store-info[data-v-e7b34d58]{padding:15px 0 0;position:relative;border-bottom:1px dashed #ececec}.user-wrapper .left-box .store-info .service[data-v-e7b34d58]{right:210px;position:absolute;top:0}.user-wrapper .left-box .store-info .service .ewm[data-v-e7b34d58]{width:140px;border:1px solid #eee;background-color:#fff;padding:10px 15px;justify-content:space-between;align-items:center;color:#282828}.user-wrapper .left-box .store-info .service .ewm .tip[data-v-e7b34d58]{font-size:14px;color:#666;margin-top:10px;text-align:center}.user-wrapper .left-box .store-info .service .ewm .pictrue[data-v-e7b34d58]{vertical-align:middle;width:116px;height:116px;display:inline}.user-wrapper .left-box .store-info .service .ewm .pictrue img[data-v-e7b34d58]{width:100%;height:100%}.user-wrapper .left-box .store-info .service .ewm .pictrue .iconfont[data-v-e7b34d58]{margin-bottom:0;color:#282828}.user-wrapper .left-box .store-info .service .ewm .pictrue .arrow[data-v-e7b34d58]{position:absolute;right:-15px;top:23px;width:0;height:0;border:8px solid transparent;border-left-color:#eee}.user-wrapper .left-box .store-info .service .ewm .pictrue .arrow[data-v-e7b34d58]:before{position:absolute;left:-8px;top:-7px;content:"";width:0;height:0;border:7px solid transparent;border-left-color:#fff}.user-wrapper .left-box .store-info .item[data-v-e7b34d58]{font-size:12px;color:#7e7e7e;margin-bottom:15px}.user-wrapper .left-box .store-info .item .iconfont[data-v-e7b34d58]{cursor:pointer}.user-wrapper .left-box .store-info .item .icon-kefu[data-v-e7b34d58]{color:#e93323}.user-wrapper .left-box .store-info .item .cont[data-v-e7b34d58]{margin-left:8px}.user-wrapper .left-box .store-info .item .star[data-v-e7b34d58]{font-size:12px;color:#e6e6e6}.user-wrapper .left-box .store-info .item .star~.star[data-v-e7b34d58]{margin-left:5px}.user-wrapper .left-box .store-info .item .star.on[data-v-e7b34d58]{color:#e93323}.user-wrapper .left-box .store-info .item .title[data-v-e7b34d58]{color:#999;font-size:12px;margin-right:15px}.user-wrapper .left-box .store-info .item .desc[data-v-e7b34d58]{color:#333;position:relative}.user-wrapper .left-box .store-info .item .store_qualify[data-v-e7b34d58]{width:16px;height:16px}.user-wrapper .left-box .store-favorites[data-v-e7b34d58]{margin-top:14px}.user-wrapper .left-box .store-favorites .collection[data-v-e7b34d58]{width:80px;height:30px;line-height:30px;text-align:center;color:#333;border:1px solid #c8c8c8;border-radius:2px;background:#fff}.user-wrapper .left-box .store-favorites .collection.care[data-v-e7b34d58]{color:#fff;background-color:#e93323;border-color:#e93323}.user-wrapper .left-box .menu-collapse[data-v-e7b34d58]{background:#fff;margin-top:15px}.user-wrapper .left-box .menu-collapse .store-category[data-v-e7b34d58]{line-height:34px;color:#666;border-bottom:1px solid #f2f2f2}.user-wrapper .left-box .menu-collapse .store-category[data-v-e7b34d58]:last-child{border-bottom:none}.user-wrapper .left-box .menu-collapse .store-category .cate-title[data-v-e7b34d58]{padding:0 12px}.user-wrapper .left-box .menu-collapse .store-category .cate-title .cate-name[data-v-e7b34d58]{cursor:pointer}.user-wrapper .left-box .menu-collapse .store-category .cate-btn[data-v-e7b34d58]{cursor:pointer;display:inline-block;margin-right:2px;width:13px;height:13px;background-color:#d2d2d2;border-radius:2px;color:#fff;text-align:center;line-height:12px}.user-wrapper .left-box .menu-collapse .store-category .cate-count[data-v-e7b34d58]{padding:15px 40px;background-color:#f2f2f2}.user-wrapper .left-box .menu-collapse .store-category .cate-count div[data-v-e7b34d58]{cursor:pointer}.user-wrapper .left-box .menu-collapse .store-category .cate-count .font-red[data-v-e7b34d58]{color:#e93323}.user-wrapper .left-box .menu-collapse .store-category .font-bold[data-v-e7b34d58]{font-weight:700}.user-wrapper .right-box[data-v-e7b34d58]{width:956px;min-height:730px;margin-left:8px;padding-bottom:30px;float:right}.router-tips[data-v-e7b34d58]{height:60px;line-height:60px;font-size:14px}.router-tips a[data-v-e7b34d58]{color:#333}.router-tips span[data-v-e7b34d58]{color:#999}.noGoods[data-v-e7b34d58]{text-align:center}.noGoods .pictrue[data-v-e7b34d58]{width:274px;height:213px;margin:130px auto 0}.noGoods .pictrue img[data-v-e7b34d58]{width:100%;height:100%}',""]),e.exports=t},731:function(e,t,r){"use strict";r.r(t);var o=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"noGoods"},[t("div",{staticClass:"pictrue"},[t("img",{attrs:{src:r(619)}})])])}],n=(r(39),r(445),r(112),r(28),r(11),r(48),r(29)),c=(r(22),r(4)),d={name:"store",auth:!1,components:{ChatRoom:r(448).a},data:function(){return{chatPopShow:!1,reply_star:3,search:"",activeName:"1",current:0,userMenu:[{key:0,link:"/store",title:"店铺首页"},{key:4,title:"全部分类",link:"/store/category"},{key:1,title:"领优惠券",link:"/store/storeCoupon"}],menuCur:0,userInfo:{},storeDetail:{},showStore:!0,indexCur:0,seen:!1,categoryList:[],category:[],isCode:!1}},asyncData:function(e){return Object(c.a)(regeneratorRuntime.mark((function t(){var r,o,c,d,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.app,o=e.query,t.next=3,Promise.all([r.$axios.get("/api/store/merchant/category/lst/".concat(o.id))]);case 3:return c=t.sent,d=Object(n.a)(c,1),l=d[0],t.abrupt("return",{indexCur:o.type,id:o.id,category:l.data,cateId:o.cateId,search:o.search});case 7:case"end":return t.stop()}}),t)})))()},computed:{score:function(){var e=this.storeDetail,t={star:0,number:0};return"postage_score"in e&&(t.number=(parseFloat(e.postage_score)+parseFloat(e.product_score)+parseFloat(e.service_score))/3,t.star=t.number/5*100),t}},watch:{$route:{handler:function(e,t){var r=this;this.userMenu.forEach((function(t,o){t.link==e.path&&(r.menuCur=t.key,r.indexCur=o)})),this.cateId=e.query.cateId?e.query.cateId:"",this.search=e.query.search?e.query.search:""},deep:!0}},fetch:function(e){var t=e.store;t.commit("isHeader",!0),t.commit("isFooter",!0)},head:function(){return{title:"店铺-"+this.$store.state.titleCon}},beforeMount:function(){var e=this;this.userMenu.forEach((function(t){t.link==e.$route.path&&(e.menuCur=t.key)})),this.getMerConfig(),this.getStoreDetail()},methods:{chatShow:function(){this.$auth.loggedIn?this.chatPopShow=!0:this.$store.commit("isLogin",!0)},goCategoryGoods:function(e,t){t&&(this.current=t==this.current?-1:t),this.seen=!1,this.$router.replace({path:"/store/category",query:{id:this.id,cateId:e}})},getMerConfig:function(){var e=this;this.$axios.get("/api/pc/mer_config/"+this.id).then((function(t){e.$store.commit("merBanner",t.data.banner),e.$store.commit("topBanner",t.data.top_banner)}))},getStoreDetail:function(){var e=this;e.$axios.get("/api/store/merchant/detail/"+e.id).then((function(t){e.storeDetail=t.data,e.showStore=!0})).catch((function(t){e.$message.error(t),e.showStore=!1}))},goPage:function(menu,e){this.menuCur=menu.key,this.$router.push({path:"".concat(menu.link),query:{id:this.id}})},followToggle:function(){this.storeDetail.care?this.unfollow():this.follow()},unfollow:function(){var e=this,t=this;t.$axios.post("/api/user/relation/delete",{type:10,type_id:t.id}).then((function(r){200===r.status&&(t.storeDetail.care=!1,e.$message.success(r.message))}))},follow:function(){var e=this,t=this;t.$axios.post("/api/user/relation/create",{type:10,type_id:t.id}).then((function(r){200===r.status&&(t.storeDetail.care=!0,e.$message.success(r.message))}))},showCategory:function(e){this.seen=1==e},leave:function(){this.seen=!1},toggle:function(e){this.current=e==this.current?-1:e},getList:function(e){},submit:function(){this.$router.push({path:"/store/category",query:{search:this.search?this.search.trim():"",id:this.id}}),this.search=""}}},l=(r(620),r(6)),component=Object(l.a)(d,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.$store.state.top_banner?o("div",{staticClass:"store-banner"},[o("img",{attrs:{src:e.$store.state.top_banner,alt:""}})]):e._e(),e._v(" "),o("div",{staticClass:"menu-count"},[o("div",{staticClass:"user-menu user-wrapper acea-row row-middle"},[o("div",{staticClass:"menu-main acea-row row-middle"},e._l(e.userMenu,(function(menu,t){return o("div",{key:t,staticClass:"menu-item",class:{active:e.menuCur==menu.key},on:{click:function(r){return e.goPage(menu,t)},mouseenter:function(r){return e.showCategory(t)}}},[e._v(e._s(menu.title)+"\n        ")])})),0),e._v(" "),o("div",{staticClass:"menu-search acea-row row-middle"},[o("div",{staticClass:"text"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],attrs:{type:"text",placeholder:"店内商品搜索"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._v(" "),o("div",{staticClass:"bnt",on:{click:e.submit}},[o("span",{staticClass:"iconfont icon-xiazai5"})])]),e._v(" "),e.seen?o("div",{staticClass:"category acea-row row-middle",on:{mouseleave:function(t){return e.leave()}}},[o("div",{staticClass:"sort"},e._l(e.category,(function(t,r){return o("div",{key:r,staticClass:"item acea-row row-between-wrapper"},[o("div",{staticClass:"name line1",on:{click:function(r){return e.goCategoryGoods(t.store_category_id,"")}}},[e._v(e._s(t.cate_name)),o("span",{staticClass:"iconfont icon-you"})]),e._v(" "),o("div",{staticClass:"sortCon"},[o("div",{staticClass:"erSort acea-row"},e._l(t.children,(function(t,r){return o("div",{key:r,staticClass:"sub-item line1",on:{click:function(r){return e.goCategoryGoods(t.store_category_id,"")}}},[e._v("\n                  "+e._s(t.cate_name)+"\n                ")])})),0)])])})),0),e._v(" "),o("nuxt-link",{staticClass:"moreBtn",attrs:{to:{path:"/store/category",query:{id:e.id}}}},[e._v("查看全部商品")])],1):e._e()])]),e._v(" "),e.showStore?o("div",{staticClass:"wrapper_1200"},[o("div",{staticClass:"user-wrapper"},[o("div",{staticClass:"content clearfix"},[o("div",{staticClass:"left-box"},[o("div",{staticClass:"user-info"},[o("div",{staticClass:"store-basis"},[o("div",{staticClass:"store-logo"},[o("img",{attrs:{src:e.storeDetail.mer_avatar,alt:""}})]),e._v(" "),o("div",{staticClass:"store-name line1"},[e.storeDetail.is_trader?o("span",{staticClass:"trader"},[e._v("自营")]):e._e(),e._v("\n                "+e._s(e.storeDetail.mer_name)+"\n              ")])]),e._v(" "),o("div",{staticClass:"store-info"},[o("div",{staticClass:"item acea-row row-middle"},[o("span",{staticClass:"title"},[e._v("店铺评分")]),e._v(" "),o("div",{staticClass:"cont"},e._l(5,(function(t,i){return o("span",{key:i,staticClass:"iconfont icon-pingjia star",class:{on:i+1<=e.score.number.toFixed(1)}})})),0)]),e._v(" "),o("div",{staticClass:"item acea-row row-middle"},[o("span",{staticClass:"title"},[e._v("关注人数")]),e._v(" "),o("span",{staticClass:"desc"},[e._v(e._s(e.storeDetail.care_count<1e4?e.storeDetail.care_count||"":((e.storeDetail.care_count||0)/1e4).toFixed(1)+"万")+"人")])]),e._v(" "),e.storeDetail.mer_id&&(0==e.storeDetail.services_type||0!=e.storeDetail.services_type&&e.storeDetail.service_phone)?o("div",{staticClass:"item acea-row row-middle"},[o("span",{staticClass:"title"},[e._v("联系客服")]),e._v(" "),e.storeDetail.mer_id&&0==e.storeDetail.services_type?o("span",{staticClass:"iconfont icon-kefu",on:{click:e.chatShow}}):e.storeDetail.mer_id&&0!=e.storeDetail.services_type?o("el-tooltip",{staticClass:"iconfont",attrs:{"popper-class":"tps",effect:"dark",content:"客服电话："+e.storeDetail.service_phone,placement:"right"}},[o("span",{staticClass:"iconfont icon-kefu"})]):e._e()],1):e._e(),e._v(" "),e.storeDetail.isset_certificate?o("div",{staticClass:"item acea-row row-middle"},[o("span",{staticClass:"title"},[e._v("店铺资质")]),e._v(" "),o("nuxt-link",{staticClass:"desc",attrs:{to:{path:"/qualifications",query:{id:e.id,storeName:e.storeDetail.mer_name}}}},[o("el-tooltip",{staticClass:"iconfont",attrs:{"popper-class":"tps",effect:"dark",content:"企业营业执照",placement:"right"}},[o("img",{staticClass:"store_qualify",attrs:{src:r(451),alt:""}})])],1)],1):e._e()]),e._v(" "),o("div",{staticClass:"store-favorites"},[o("button",{staticClass:"collection",class:e.storeDetail.care?"care":"",on:{click:e.followToggle}},[e._v("\n                "+e._s(e.storeDetail.care?"已收藏":"收藏店铺")+"\n              ")])])]),e._v(" "),o("div",{staticClass:"menu-collapse"},e._l(e.category,(function(t,r){return o("div",{key:r,staticClass:"store-category"},[o("div",{staticClass:"cate-title"},[t.children?o("span",{staticClass:"cate-btn",on:{click:function(t){return e.toggle(r)}}},[e._v(e._s(r===e.current?"-":"+"))]):e._e(),e._v(" "),o("span",{staticClass:"cate-name",class:r==e.current?"font-bold":"",on:{click:function(o){return e.goCategoryGoods(t.store_category_id,r)}}},[e._v(e._s(t.cate_name))])]),e._v(" "),t.children&&r===e.current?o("div",{staticClass:"cate-count"},e._l(t.children,(function(t,r){return o("div",{key:r,class:t.store_category_id==e.cateId?"cate-item font-red":"cate-item",on:{click:function(r){return e.goCategoryGoods(t.store_category_id,"")}}},[e._v(e._s(t.cate_name)+"\n                ")])})),0):e._e()])})),0)]),e._v(" "),o("div",{staticClass:"right-box"},[o("NuxtChild",{attrs:{"keep-alive":""}})],1)])])]):o("div",{staticClass:"wrapper_1200"},[e._m(0)]),e._v(" "),e.chatPopShow?o("chat-room",{attrs:{chatId:e.storeDetail.mer_id},on:{close:function(t){e.chatPopShow=!1}}}):e._e()],1)}),o,!1,null,"e7b34d58",null);t.default=component.exports}}]);