(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/addInvoicing/index"],{"04c3":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=(this._self._c,this.invoiceList.length);this.$mp.data=Object.assign({},{$root:{g0:e}})},a=[]},"24ac":function(t,e,i){},"68b0":function(t,e,i){"use strict";i.r(e);var n=i("cf6d"),a=i.n(n);for(var c in n)["default"].indexOf(c)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(c);e["default"]=a.a},"9b4a":function(t,e,i){"use strict";var n=i("24ac"),a=i.n(n);a.a},ab68:function(t,e,i){"use strict";i.r(e);var n=i("04c3"),a=i("68b0");for(var c in a)["default"].indexOf(c)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(c);i("9b4a");var r=i("f0c5"),o=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"5d62c05c",null,!1,n["a"],void 0);e["default"]=o.exports},cf6d:function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("9523")),c=i("6859"),r=i("26cb"),o=i("f26a");function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}var p={props:{invoice:{type:Object,default:function(){return{invoice:!1,mer_id:0}}}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){(0,a.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},(0,r.mapGetters)(["viewColor"])),data:function(){return{domain:o.HTTP_REQUEST_URL,id:"",receipt_title_type:"1",receipt_type:"1",drawer_phone:"",receipt_title:"",duty_paragraph:"",tel:"",address:"",bank_name:"",bank_code:"",is_default:0,email:"",isDefault:[],typeName:"增值税电子普通发票",popupType:!1,popupTitle:!1,invoiceTypeList:[{type:"1",name:"增值税电子普通发票",info:"默认发送至所提供的电子邮件"},{type:"2",name:"增值税专用发票",info:"纸质发票开出后将以邮寄形式交付"}],special_invoice:!0,invoice_func:!0,invoiceList:[],invoice_checked:"",invoice_id:"",order_id:"",news:"",cartId:"",pinkId:"",couponId:"",addressId:"",invoiceData:{},formvalidate:!1}},watch:{},onLoad:function(t){this.news=t.news,this.cartId=t.cartId,this.pinkId=t.pinkId,this.couponId=t.couponId,this.addressId=t.addressId,"false"==t.special_invoice&&this.$set(this,"special_invoice",!1)},onShow:function(){this.getInvoiceDefault(),this.popupTitle=!1},methods:{getInvoiceList:function(){var t=this;(0,c.invoice)().then((function(e){for(var i=0;i<e.data.length;i++)e.data[i].user_receipt_id=e.data[i].user_receipt_id.toString(),e.data[i].is_default&&(t.invoice_id=e.data[i].user_receipt_id);t.$set(t,"invoiceList",e.data)})).catch((function(e){t.$util.Tips({title:e})}))},getInvoiceDefault:function(){var t=this;(0,c.invoice)({is_default:1}).then((function(e){var i=e.data[0];t.typeName="1"==i.receipt_type?"增值税电子普通发票":"增值税专用发票",t.receipt_title_type=i.receipt_title_type,t.receipt_type=i.receipt_type,t.receipt_title=i.receipt_title,t.email=i.email,t.duty_paragraph=i.duty_paragraph,t.bank_name=i.bank_name,t.bank_code=i.bank_code,t.address=i.address,t.tel=i.tel,t.invoice_id=i.user_receipt_id.toString(),t.popupTitle=!1})).catch((function(t){}))},getInvoiceDetail:function(e){var i=this;(0,c.invoiceDetail)(e).then((function(e){t.hideLoading(),i.receipt_title_type=e.data.receipt_title_type,i.receipt_type=e.data.receipt_type,i.typeName="1"==i.receipt_type?"增值税电子普通发票":"增值税专用发票",i.receipt_title=e.data.receipt_title,i.email=e.data.email,i.duty_paragraph=e.data.duty_paragraph,i.bank_name=e.data.bank_name,i.bank_code=e.data.bank_code,i.address=e.data.address,i.tel=e.data.tel,i.is_default=e.data.is_default})).catch((function(e){t.hideLoading(),i.$util.Tips({title:e})}))},close:function(){this.formvalidate?this.$emit("changeInvoiceClose",this.invoiceData):this.$emit("changeInvoiceClose","")},noInvoice:function(){t.setStorage({key:"invoice_Data",data:{},success:function(){}}),this.$emit("changeInvoiceClose","")},callType:function(){this.popupType=!0},changeType:function(t){var e=this;this.receipt_type=t.detail.value,this.typeName=this.invoiceTypeList.find((function(t){return t.type==e.receipt_type})).name},closeType:function(){this.popupType=!1},callTitle:function(){this.popupTitle=!0},changeTitle:function(t){this.invoice_id=t.detail.value.toString(),this.getInvoiceDetail(t.detail.value),this.popupTitle=!1},addTitle:function(){this.popupType=!1,this.popupTitle=!1,t.navigateTo({url:"/pages/users/user_invoice_form/index?mer_id="+this.invoice.mer_id})},closeTitle:function(){this.popupTitle=!1},changeHeader:function(t){this.receipt_title_type=t.detail.value,1==t.detail.value&&(this.receipt_type=1,this.typeName="增值税电子普通发票"),this.receipt_type},changeDefault:function(t){this.is_default=t.detail.value.length?1:0},formSubmit:function(e){var i=e.detail.value;if(!i.receipt_title_type)return this.$util.Tips({title:"请填写发票抬头"});if(!i.email)return this.$util.Tips({title:"请填写邮箱"});if(!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(i.email))return this.$util.Tips({title:"请输入正确的邮箱"});if(2==i.receipt_title_type){if(!i.duty_paragraph)return this.$util.Tips({title:"请填写税号"});if("增值税专用发票"==i.receipt_type){if(!i.bank_name)return this.$util.Tips({title:"请填写开户行"});if(!i.bank_code)return this.$util.Tips({title:"请填写银行账号"});if(!i.address)return this.$util.Tips({title:"请填写企业地址"});if(!i.tel)return this.$util.Tips({title:"请填写企业电话"});if(!/^(\d{9}|\d{14}|\d{18})$/.test(i.bank_code))return this.$util.Tips({title:"请输入正确的银行账号"});if(!/(^(\d{3,4})?\d{7,8})$|(13[0-9]{9})/.test(i.tel))return this.$util.Tips({title:"请输入正确的电话号码"})}}this.formvalidate=!0,i.mer_id=this.invoice.mer_id,i.receipt_type=this.receipt_type,this.invoiceData=i,t.setStorage({key:"invoice_Data",data:[this.invoiceData],success:function(){}}),this.$emit("changeInvoiceClose",this.invoiceData)}}};e.default=p}).call(this,i("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/addInvoicing/index-create-component',
    {
        'components/addInvoicing/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("ab68"))
        })
    },
    [['components/addInvoicing/index-create-component']]
]);
