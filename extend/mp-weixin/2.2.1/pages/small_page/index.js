(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/small_page/index","components/customTab","components/recommend/index"],{1857:function(t,e,n){"use strict";n.r(e);var o=n("6c52"),i=n("ea82");for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("4f58");var c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"625b709c",null,!1,o["a"],void 0);e["default"]=u.exports},2702:function(t,e,n){},"40b7":function(t,e,n){"use strict";n.r(e);var o=n("6733"),i=n("46c8");for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("b275a");var c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"74e8a677",null,!1,o["a"],void 0);e["default"]=u.exports},"46c8":function(t,e,n){"use strict";n.r(e);var o=n("62f7"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},"4f58":function(t,e,n){"use strict";var o=n("2702"),i=n.n(o);i.a},"4f80":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("26cb"),i=n("f823"),a=n("041f"),c=(n("ddb3"),n("f26a")),u={components:{WaterfallsFlow:function(){n.e("components/WaterfallsFlow/WaterfallsFlow").then(function(){return resolve(n("7612"))}.bind(null,n)).catch(n.oe)}},computed:(0,o.mapGetters)(["uid"]),props:{hostProduct:{type:Array,default:function(){return[]}},indexP:{type:Boolean,default:!1},isLogin:{type:Boolean,default:!1}},data:function(){return{domain:c.HTTP_REQUEST_URL}},mounted:function(){},onPullDownRefresh:function(){var e=this;setTimeout((function(){var n=e.hostProduct.reverse();e.hostProduct=n,t.stopPullDownRefresh()}),500)},methods:{goDetail:function(e){var n=this;(0,i.goShopDetail)(e,this.uid).then((function(o){n.isLogin?(0,a.initiateAssistApi)(e.activity_id).then((function(e){var n=e.data.product_assist_set_id;t.hideLoading(),t.navigateTo({url:"/pages/activity/assist_detail/index?id="+n})})).catch((function(e){t.showToast({title:e,icon:"none"})})):(n.$emit("isShowAuth",!0),n.$emit("isAuto",!0))}))}}};e.default=u}).call(this,n("543d")["default"])},"5a11":function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("4c7d");o(n("66fd"));var i=o(n("7152"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"62f7":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{newData:{type:Object,default:{}},activeRouter:{type:String,default:""}},data:function(){return{}},mounted:function(){},methods:{goRouter:function(e){var n=getCurrentPages(),o=n[n.length-1].$page.fullPath;e.link!=o&&t.switchTab({url:e.link,fail:function(n){t.redirectTo({url:e.link})}})}}};e.default=n}).call(this,n("543d")["default"])},6733:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var o=function(){var t=this.$createElement;this._self._c},i=[]},"6c52":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={WaterfallsFlow:function(){return n.e("components/WaterfallsFlow/WaterfallsFlow").then(n.bind(null,"7612"))}},i=function(){var t=this.$createElement;this._self._c},a=[]},7152:function(t,e,n){"use strict";n.r(e);var o=n("c2d3"),i=n("b131");for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("a073");var c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"d0c9226e",null,!1,o["a"],void 0);e["default"]=u.exports},"841a":function(t,e,n){},a073:function(t,e,n){"use strict";var o=n("c7b7"),i=n.n(o);i.a},b131:function(t,e,n){"use strict";n.r(e);var o=n("ee6a"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},b275a:function(t,e,n){"use strict";var o=n("841a"),i=n.n(o);i.a},c2d3:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var o={easyLoadimage:function(){return Promise.all([n.e("common/vendor"),n.e("components/easy-loadimage/easy-loadimage")]).then(n.bind(null,"2243"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.navIndex>0?t.sortList.length:null),o=t.navIndex>0&&n>0?t.sortList.length:null,i=t.navIndex>0?t.sortProduct.length:null,a=t.navIndex>0&&i>0?t.sortProduct.length>0||t.sortProductLoading:null,c=t.navIndex>0?t.sortProduct.length:null;t.$mp.data=Object.assign({},{$root:{g0:n,g1:o,g2:i,g3:a,g4:c}})},a=[]},c7b7:function(t,e,n){},ea82:function(t,e,n){"use strict";n.r(e);var o=n("4f80"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},ee6a:function(t,e,n){"use strict";(function(t,o){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n("9523")),c=n("6859"),u=n("58d4"),r=n("5a8f"),s=(n("937f"),n("cd6d"),n("f823")),l=n("26cb"),d=n("736f"),f=n("041f"),h=(i(n("1857")),i(n("40b7")),n("3255")),g=i(n("c5df")),p=i(n("9673")),m=n("f26a"),v=getApp(),b={computed:(0,h.configMap)({hide_mer_status:0,recommend_switch:0,beian_sn:"",share_title:"",site_name:"",hot_ranking_switch:0,navigation:{}},(0,l.mapGetters)(["isLogin","uid","keyColor"])),mixins:[g.default],components:{easyLoadimage:function(){Promise.all([n.e("common/vendor"),n.e("components/easy-loadimage/easy-loadimage")]).then(function(){return resolve(n("2243"))}.bind(null,n)).catch(n.oe)},authorize:function(){Promise.all([n.e("common/vendor"),n.e("components/Authorize")]).then(function(){return resolve(n("02f6"))}.bind(null,n)).catch(n.oe)},home:function(){n.e("components/home/index").then(function(){return resolve(n("4cc1"))}.bind(null,n)).catch(n.oe)},activeParty:function(){n.e("pages/index/component/activeParty").then(function(){return resolve(n("f382"))}.bind(null,n)).catch(n.oe)},headerSerch:function(){n.e("pages/index/component/headerSerch").then(function(){return resolve(n("bf71"))}.bind(null,n)).catch(n.oe)},homeComb:function(){n.e("pages/index/component/homeComb").then(function(){return resolve(n("f9a3"))}.bind(null,n)).catch(n.oe)},bargain:function(){n.e("pages/index/component/bargain").then(function(){return resolve(n("d20a"))}.bind(null,n)).catch(n.oe)},coupon:function(){n.e("pages/index/component/coupon").then(function(){return resolve(n("ac25"))}.bind(null,n)).catch(n.oe)},blankPage:function(){n.e("pages/index/component/blankPage").then(function(){return resolve(n("a529"))}.bind(null,n)).catch(n.oe)},combination:function(){n.e("pages/index/component/combination").then(function(){return resolve(n("14da"))}.bind(null,n)).catch(n.oe)},customerService:function(){n.e("pages/index/component/customerService").then(function(){return resolve(n("07c4"))}.bind(null,n)).catch(n.oe)},goodList:function(){n.e("pages/index/component/goodList").then(function(){return resolve(n("7b84"))}.bind(null,n)).catch(n.oe)},guide:function(){n.e("pages/index/component/guide").then(function(){return resolve(n("ada1"))}.bind(null,n)).catch(n.oe)},liveBroadcast:function(){n.e("pages/index/component/liveBroadcast").then(function(){return resolve(n("e04b"))}.bind(null,n)).catch(n.oe)},menus:function(){n.e("pages/index/component/menus").then(function(){return resolve(n("00fb"))}.bind(null,n)).catch(n.oe)},news:function(){n.e("pages/index/component/news").then(function(){return resolve(n("ed20"))}.bind(null,n)).catch(n.oe)},topic:function(){n.e("pages/index/component/topic").then(function(){return resolve(n("b890"))}.bind(null,n)).catch(n.oe)},presellList:function(){n.e("pages/index/component/presellList").then(function(){return resolve(n("e0b0"))}.bind(null,n)).catch(n.oe)},plantList:function(){n.e("pages/index/component/plantList").then(function(){return resolve(n("3ed8"))}.bind(null,n)).catch(n.oe)},pictureCube:function(){n.e("pages/index/component/pictureCube").then(function(){return resolve(n("dccb"))}.bind(null,n)).catch(n.oe)},shopList:function(){n.e("pages/index/component/shopList").then(function(){return resolve(n("1492"))}.bind(null,n)).catch(n.oe)},richText:function(){n.e("pages/index/component/richText").then(function(){return resolve(n("073f"))}.bind(null,n)).catch(n.oe)},seckill:function(){n.e("pages/index/component/seckill").then(function(){return resolve(n("53ab"))}.bind(null,n)).catch(n.oe)},swiperBg:function(){n.e("pages/index/component/swiperBg").then(function(){return resolve(n("9a0d"))}.bind(null,n)).catch(n.oe)},tabNav:function(){n.e("pages/index/component/tabNav").then(function(){return resolve(n("90d8"))}.bind(null,n)).catch(n.oe)},titles:function(){n.e("pages/index/component/titles").then(function(){return resolve(n("9995"))}.bind(null,n)).catch(n.oe)},hotRanking:function(){n.e("pages/index/component/hotRanking").then(function(){return resolve(n("65de"))}.bind(null,n)).catch(n.oe)}},data:function(){var t;return t={domain:m.HTTP_REQUEST_URL,couponTypeMsg:{10:"通用券",11:"品类券",12:"跨店券"},styleConfig:[],showSkeleton:!0,isNodes:0,userInfo:{},loading:!1,isAuto:!1,isShowAuth:!1,navIndex:0,navTop:[],subscribe:!1,followUrl:"",followHid:!0,followCode:!1,sortList:[],window:!1,navH:"",couponList:[],marTop:0,loadend:!1},(0,a.default)(t,"loading",!1),(0,a.default)(t,"loadTitle","加载更多"),(0,a.default)(t,"sortProduct",[]),(0,a.default)(t,"where",{pid:0,page:1,limit:6}),(0,a.default)(t,"is_switch",!0),(0,a.default)(t,"hotPage",1),(0,a.default)(t,"hotLimit",30),(0,a.default)(t,"hotScroll",!0),(0,a.default)(t,"hotLoading",!1),(0,a.default)(t,"hotTitle","加载更多"),(0,a.default)(t,"isFixed",!0),(0,a.default)(t,"isScrolled",!1),(0,a.default)(t,"scrolled",!1),(0,a.default)(t,"tempArr",[]),(0,a.default)(t,"d",""),(0,a.default)(t,"h",""),(0,a.default)(t,"m",""),(0,a.default)(t,"s",""),(0,a.default)(t,"sum_h",""),(0,a.default)(t,"sortMarTop",0),(0,a.default)(t,"globalDatas",{}),(0,a.default)(t,"mpHeight",108),(0,a.default)(t,"currSpid",""),(0,a.default)(t,"_options",{}),(0,a.default)(t,"isIntegral",!1),(0,a.default)(t,"appUpdate",{}),(0,a.default)(t,"sortMpTop",0),(0,a.default)(t,"bgColor",""),(0,a.default)(t,"bgPic",""),(0,a.default)(t,"bgTabVal",""),(0,a.default)(t,"windowHeight",0),(0,a.default)(t,"domHeight",0),(0,a.default)(t,"isHeaderSerch",!1),(0,a.default)(t,"showCoupon",!1),(0,a.default)(t,"couponArray",[]),(0,a.default)(t,"smallPage",!1),(0,a.default)(t,"isMenu",!1),(0,a.default)(t,"isScale",!1),(0,a.default)(t,"homeCombData",{}),(0,a.default)(t,"footerStatus",!1),(0,a.default)(t,"newData",{}),(0,a.default)(t,"activeRouter",""),(0,a.default)(t,"overflow",!1),t},onShareAppMessage:function(){return t.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),{title:this.share_title,path:"/pages/index/index?spid="+this.uid}},onShareTimeline:function(){return{title:this.share_title,query:{spid:this.uid},imageUrl:""}},onLoad:function(t){var e=this;this._options=t,e.$nextTick((function(){o.getSystemInfo({success:function(t){e.windowHeight=t.windowHeight}})})),e.pageLoad(t)},created:function(t){var e=getCurrentPages(),n=e[e.length-1].route;this.activeRouter="/"+n},onShow:function(){var t=this;t.isIntegral=o.getStorageSync("isIntegral"),t.$nextTick((function(){var e=o.createSelectorQuery();e.select("#home").boundingClientRect(),e.exec((function(e){e[0].top<=-60&&(t.isScrolled=!0)}))}))},onHide:function(){o.setStorageSync("isIntegral",!1)},onReady:function(){},watch:{globalDatas:function(t,e){}},onPullDownRefresh:function(){this.overflow=!0},methods:{pageLoad:function(t){if(t.spid?(this.currSpid=t.spid,v.globalData.spid=t.spid):(0,r.getStorage)("spid")&&(this.currSpid=(0,r.getStorage)("spid"),v.globalData.spid=(0,r.getStorage)("spid")),t.scene){var e=this.$util.getUrlParams(decodeURIComponent(t.scene));e.id&&(t.id=e.id),e.spid?(this.currSpid=e.spid,v.globalData.spid=e.spid):(0,r.getStorage)("spid")&&(this.currSpid=(0,r.getStorage)("spid"),v.globalData.spid=(0,r.getStorage)("spid"))}(0,p.default)(this.currSpid,this.isLogin),this.isLogin&&(0,h.silenceBindingSpread)(),this.getIndexConfig(),Promise.all([this.diyData(t.id)]),this.isLogin&&this.getUserInfo()},closeShare:function(){o.setStorageSync("isIntegral",!1),this.isIntegral=o.getStorageSync("isIntegral")},bindHeighta:function(t){},objToArr:function(t){var e=Object.keys(t).sort(),n=e.map((function(e){return t[e]}));return n},goRouter:function(t){var e=getCurrentPages(),n=e[e.length-1].$page.fullPath;t.link!=n&&o.switchTab({url:t.link,fail:function(e){o.redirectTo({url:t.link})}})},diyData:function(t){var e=this,n=this;n.styleConfig=[],(0,u.getPageDiy)({id:t,version:"221"}).then((function(t){setTimeout((function(){n.isNodes++}),0);var i=t.data.data;o.setNavigationBarTitle({title:i.title}),i.is_bg_color&&(n.bgColor=i.color_picker),i.is_bg_pic&&(n.bgPic=i.bg_pic,n.bgTabVal=i.bg_tab_val),n.styleConfig=n.objToArr(i.value),n.styleConfig.forEach((function(t,i,a){"headerSerch"!=t.name&&"homeComb"!=t.name||(n.isHeaderSerch=!0,"homeComb"==t.name&&(n.$set(n,"homeCombData",t),n.smallPage=!0)),"pageFoot"==t.name&&(t.status&&t.status.status&&(e.newData=t,setTimeout((function(t){n.$set(n,"footerStatus",!0)}),50)),o.setStorageSync("FOOTER_BAR",!(!t.status||!t.status.status)),t.menuList.map((function(t,e){"/pages/order_addcart/order_addcart"===t.link&&o.setStorageSync("FOOTER_ADDCART",e)})),a.splice(i,1)),"menus"==t.name&&(n.isMenu=!0),o.pageScrollTo({scrollTop:0}),n.overflow=!1}))})).catch((function(t){o.showToast({title:t,icon:"none"})}))},onLoadFun:function(t){this.isShowAuth=!1},bindMore:function(){try{o.setStorageSync("storeIndex",this.navTop[this.navIndex].pid),o.switchTab({url:"/pages/goods_cate/goods_cate"})}catch(t){}},goDetails:function(t){var e=this;(0,s.goShopDetail)(t,this.uid).then((function(n){e.isLogin?(0,f.initiateAssistApi)(t.activity_id).then((function(t){var e=t.data.product_assist_set_id;o.hideLoading(),o.navigateTo({url:"/pages/activity/assist_detail/index?id="+e})})).catch((function(t){o.showToast({title:t,icon:"none"})})):(e.isAuto=!0,e.isShowAuth=!0)}))},getUserInfo:function(){var t=this;(0,c.getUserInfo)().then((function(e){t.userInfo=e.data}))},changeTab:function(t){var e=this;this.navIndex!=t.index&&(this.navIndex=t.index,t.index>0&&((0,d.storeCategory)({pid:t.pid}).then((function(n){e.sortList=n.data.length>9?n.data.splice(0,9):n.data,e.sortList.length>0&&(e.where.pid=t.pid,e.where.page=1,e.loadend=!1,e.loading=!1,e.sortProduct=[],e.get_product_list(),o.pageScrollTo({scrollTop:0}))})),this.sortMarTop=10))},get_product_list:function(){var t=this;t.loading||(t.loading=!0,t.loadTitle="",(0,d.getProductslist)(t.where).then((function(e){var n=e.data.list,o=t.$util.SplitArray(n,t.sortProduct),i=n.length<t.where.limit;t.loadend=i,t.loading=!1,t.loadTitle=i?"已全部加载":"加载更多",t.$set(t,"sortProduct",o),t.$set(t.where,"page",t.where.page+1)})).catch((function(e){t.loading=!1,t.loadTitle="加载更多"})))},getIndexConfig:function(){var t=this;(0,u.getIndexData)().then((function(e){e.data.category.unshift({cate_name:"首页"}),t.$set(t,"navTop",e.data.category),o.getSetting({success:function(e){e.authSetting["scope.userInfo"]?t.window=!1:t.window=!!t.couponList.length}}),t.reloadData()}))},reloadData:function(){var t=this;setTimeout((function(){t.showSkeleton=!1}),500)},authColse:function(t){this.isShowAuth=t},goDetail:function(t){if(t.activity&&"2"===t.activity.type&&!this.isLogin)return this.$set(this,"isAuto",!0),void this.$set(this,"isShowAuth",!0);(0,s.goShopDetail)(t,this.uid).then((function(e){o.navigateTo({url:"/pages/goods_details/index?id=".concat(t.id)})}))}},mounted:function(){var t=this,e=o.createSelectorQuery().in(this);e.select("#home").boundingClientRect(),e.exec((function(e){t.domHeight=e[0].height}))},onReachBottom:function(){this.sortProduct.length>0&&this.get_product_list()},onPageScroll:function(t){if(this.isHeaderSerch){var e;e=t.scrollTop>50,this.isScrolled=e}else this.isScrolled=!1;o.$emit("scroll")}};e.default=b}).call(this,n("bc2e")["default"],n("543d")["default"])}},[["5a11","common/runtime","common/vendor"]]]);