(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/goods_details/index"],{"1bf8":function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=o("736f"),s=o("26cb"),r=o("f26a"),i=o("3255"),a=t.getSystemInfoSync().statusBarHeight+"px",c=getApp(),u={components:{home:function(){o.e("components/home/index").then(function(){return resolve(o("4cc1"))}.bind(null,o)).catch(o.oe)},productWindow:function(){o.e("components/productWindow/index").then(function(){return resolve(o("b739"))}.bind(null,o)).catch(o.oe)},productConSwiper:function(){o.e("components/productConSwiper/index").then(function(){return resolve(o("58c8"))}.bind(null,o)).catch(o.oe)},guaranteeTemplate:function(){o.e("components/freightGuarantee/index").then(function(){return resolve(o("8f11"))}.bind(null,o)).catch(o.oe)},countDown:function(){o.e("components/countDown/index").then(function(){return resolve(o("628d"))}.bind(null,o)).catch(o.oe)},"jyf-parser":function(){Promise.all([o.e("common/vendor"),o.e("components/jyf-parser/jyf-parser")]).then(function(){return resolve(o("3192"))}.bind(null,o)).catch(o.oe)}},data:function(){return{statusBarHeight:a,attrTxt:"请选择",attrValue:"",animated:!1,product_id:0,product_type:0,reply:[],storeInfo:{merchant:{}},productValue:[],cart_num:1,isAuto:!1,isShowAuth:!1,isOpen:!1,actionSheetHidden:!0,storeImage:"",canvasStatus:!1,posterImage:"",posterbackgd:"/static/images/posterbackgd.png",source:"",domain:r.HTTP_REQUEST_URL,sharePacket:{isState:!0},circular:!1,autoplay:!1,interval:3e3,duration:500,clientHeight:"",systemStore:{},replyChance:0,CartCount:0,isDown:!0,attr:{cartAttr:!1,productAttr:[],productSelect:{}},description:"",navActive:0,activity:[],retunTop:!0,navH:"",navList:[],opacity:0,scrollY:0,topArr:[],toView:"",height:0,heightArr:[],lock:!1,scrollTop:0,tagStyle:{img:"width:100%;display:block;"},showAnimate:!0,codeImg:"",videoCoverImg:"",shipping:"",guarantee:[],specsInfo:{show:!1,params:[]},guaranteeValue:"",shippingValue:"",uniqueValue:"",datatime:0,pink_ok_sum:0,pink:[],AllIndexDefault:0,AllIndex:2,maxAllIndex:0,itemNew:[],indicatorDots:!1,preview_key:"",comForm:""}},computed:(0,i.configMap)(["hide_mer_status"],(0,s.mapGetters)(["isLogin","uid","viewColor"])),onLoad:function(e){var o=this,n=getCurrentPages(),s=n[n.length-1];n.length<=1&&(o.retunTop=!1);var r=s.options||s.$route.query;this.source=r.source,this.navH=96,this.id=e.product_id,this.preview_key=e.preview_key,this.product_type=e.product_type,this.comForm=e.comForm,t.getSystemInfo({success:function(t){o.height=t.windowHeight}}),this.getPreviewDetails()},onReady:function(){},onShow:function(){},methods:{boxStatus:function(t){this.showAnimate=t},closeChange:function(){this.$set(this.sharePacket,"isState",!0)},showShip:function(){this.$refs.guartemplate.showShippingTel()},showGuaranee:function(){this.$refs.guartemplate.showGuaranteeTel()},goActivity:function(e){var o=e;"1"===o.type?t.navigateTo({url:"/pages/activity/goods_seckill_details/index?id=".concat(o.id,"&time=").concat(o.time,"&status=1")}):"2"===o.type?t.navigateTo({url:"/pages/activity/goods_bargain_details/index?id=".concat(o.id,"&bargain=").concat(this.uid)}):t.navigateTo({url:"/pages/activity/goods_combination_details/index?id=".concat(o.id)})},iptCartNum:function(t){this.$set(this.attr.productSelect,"cart_num",t)},tap:function(t){var e="past"+t;t=t;this.$set(this,"toView",e),this.$set(this,"navActive",t),this.$set(this,"lock",!0),this.$set(this,"scrollTop",t>0?this.topArr[t]-c.globalData.navHeight/2:this.topArr[t])},scroll:function(t){var e=t.detail.scrollTop,o=e/200;if(o=o>1?1:o,this.$set(this,"showAnimate",!1),this.$set(this,"opacity",o),this.$set(this,"scrollY",e),this.lock)this.$set(this,"lock",!1);else for(var n=0;n<this.topArr.length;n++)if(e<this.topArr[n]-c.globalData.navHeight/2+this.heightArr[n]){this.$set(this,"navActive",n);break}},onLoadFun:function(t){},ChangeCartNum:function(t){},attrVal:function(t){this.$set(this.attr.productAttr[t.indexw],"index",this.attr.productAttr[t.indexw].attr_values[t.indexn])},ChangeAttr:function(t){var e=this.productValue[t];e&&this.$set(this,"uniqueValue",e.unique),e&&e.stock>0?(this.$set(this.attr.productSelect,"image",e.image?e.image:this.storeInfo.image),this.$set(this.attr.productSelect,"price",e.price),this.$set(this.attr.productSelect,"stock",e.stock),this.$set(this.attr.productSelect,"unique",e.unique),this.$set(this,"uniqueValue",e.unique),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"attrValue",t),this.$set(this,"attrTxt","已选择")):(this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",0),this.$set(this.attr.productSelect,"stock",0),this.$set(this.attr.productSelect,"unique",""),this.$set(this.attr.productSelect,"cart_num",0),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择"))},setClientHeight:function(){var e=this,o=t.createSelectorQuery().in(this).select("#list0");o.fields({size:!0},(function(t){e.$set(e,"clientHeight",t.height+20)})).exec()},getPreviewDetails:function(){var e=this;t.showLoading({title:"加载中",mask:!0});var o=this,s=o.preview_key?{key:o.preview_key}:{id:o.id,product_type:o.product_type};(0,n.getPreviewProDetail)(s).then((function(n){t.hideLoading();var s=n.data;s.video_link&&s.slider_image.length>1?(e.videoCoverImg=s.slider_image[0],s.slider_image.splice(0,1)):s.video_link&&1===s.slider_image.length&&(e.videoCoverImg=s.slider_image[0]),o.$set(o,"storeInfo",s),o.$set(o,"description",s.content),o.$set(o.description,"type",s.content.type||0),o.$set(o,"reply",n.data.topReply?[n.data.topReply]:[]),o.$set(o.attr,"productAttr",n.data.attr),o.$set(o,"productValue",n.data.sku),o.$set(o.sharePacket,"priceName",n.data.priceName),o.$set(o.sharePacket,"max",n.data.max_extension),o.$set(o.sharePacket,"min",n.data.min_extension),o.$set(o,"systemStore",n.data.system_store),o.$set(o,"PromotionCode",s.code_base),o.$set(o,"activity",n.data.activity?n.data.activity:[]),o.$set(o,"shippingValue",n.data.temp?n.data.temp.name:""),o.$set(o,"guaranteeValue",n.data.guarantee?n.data.guarantee.template_name:""),o.$set(o,"guarantee",n.data.guaranteeTemplate?n.data.guaranteeTemplate:[]),o.$set(o,"shipping",n.data.temp?n.data.temp.info:""),o.$set(o.specsInfo,"params",n.data.params),o.$set(o,"datatime",s.stop?Number(s.stop):0),t.setNavigationBarTitle({title:s.store_name.substring(0,7)+"..."}),o.$set(o,"storeImage",o.storeInfo.image),setTimeout((function(){o.infoScroll()}),500),o.DefaultSelect()})).catch((function(t){return o.$util.Tips({title:t},{tab:3,url:1})}))},infoScroll:function(){for(var e=this,o=[],n=[],s=0;s<e.navList.length;s++){var r=t.createSelectorQuery().in(this),i="#past"+s;r.select(i).boundingClientRect(),r.exec((function(t){var s=t[0].top,r=t[0].height;o.push(s),n.push(r),e.$set(e,"topArr",o),e.$set(e,"heightArr",n)}))}},DefaultSelect:function(){var t=this.attr.productAttr,e=[];for(var o in this.productValue)if(this.productValue[o].stock>0){e=this.attr.productAttr.length?o.split(","):[];break}for(var n=0;n<t.length;n++)this.$set(t[n],"index",e[n]);var s=this.productValue[e.join(",")];s&&t.length?(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",s.image?s.image:this.storeInfo.image),this.$set(this.attr.productSelect,"price",s.price),this.$set(this.attr.productSelect,"stock",s.stock),this.$set(this.attr.productSelect,"unique",s.unique),this.$set(this,"uniqueValue",s.unique),this.$set(this,"attrValue",e.join(",")),this.$set(this,"attrTxt","已选择"),0==s.stock?this.$set(this.attr.productSelect,"cart_num",0):this.$set(this.attr.productSelect,"cart_num",1)):!s&&t.length?(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"stock",0),this.$set(this.attr.productSelect,"unique",""),this.$set(this,"uniqueValue",""),this.$set(this.attr.productSelect,"cart_num",0),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择")):s||t.length?s&&!t.length&&(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",s.image),this.$set(this.attr.productSelect,"price",s.price),this.$set(this.attr.productSelect,"stock",s.stock),this.$set(this.attr.productSelect,"unique",s.unique),this.$set(this,"uniqueValue",s.unique),this.$set(this,"attrValue",e.join(",")),this.$set(this,"attrTxt","已选择"),0==s.stock?this.$set(this.attr.productSelect,"cart_num",0):this.$set(this.attr.productSelect,"cart_num",1)):(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"stock",this.storeInfo.stock),this.$set(this.attr.productSelect,"unique",this.storeInfo.unique||""),this.$set(this,"uniqueValue",this.storeInfo.unique||""),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择"))},onMyEvent:function(){this.$set(this.attr,"cartAttr",!1),this.$set(this,"isOpen",!1)},selecAttr:function(){this.$set(this.attr,"cartAttr",!0),this.$set(this,"isOpen",!0)}}};e.default=u}).call(this,o("543d")["default"])},2013:function(t,e,o){},"3a2b":function(t,e,o){"use strict";o.d(e,"b",(function(){return s})),o.d(e,"c",(function(){return r})),o.d(e,"a",(function(){return n}));var n={jyfParser:function(){return Promise.all([o.e("common/vendor"),o.e("components/jyf-parser/jyf-parser")]).then(o.bind(null,"3192"))}},s=function(){var t=this,e=t.$createElement,o=(t._self._c,t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&t.storeInfo.start_time&&t.storeInfo.p_end_time?new Date(t.storeInfo.start_time.replace(/-/g,"/")).getMonth():null),n=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&t.storeInfo.start_time&&t.storeInfo.p_end_time?new Date(t.storeInfo.start_time.replace(/-/g,"/")).getDate():null,s=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&t.storeInfo.start_time&&t.storeInfo.p_end_time?new Date(t.storeInfo.start_time.replace(/-/g,"/")).getHours():null,r=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&t.storeInfo.start_time&&t.storeInfo.p_end_time?new Date(t.storeInfo.start_time.replace(/-/g,"/")).getMinutes():null,i=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&t.storeInfo.start_time&&t.storeInfo.p_end_time?new Date(t.storeInfo.p_end_time.replace(/-/g,"/")).getMonth():null,a=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&t.storeInfo.start_time&&t.storeInfo.p_end_time?new Date(t.storeInfo.p_end_time.replace(/-/g,"/")).getDate():null,c=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&t.storeInfo.start_time&&t.storeInfo.p_end_time?new Date(t.storeInfo.p_end_time.replace(/-/g,"/")).getHours():null,u=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&t.storeInfo.start_time&&t.storeInfo.p_end_time?new Date(t.storeInfo.p_end_time.replace(/-/g,"/")).getMinutes():null,l=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&2===t.storeInfo.presell_type&&t.storeInfo.final_start_time&&t.storeInfo.final_end_time?new Date(t.storeInfo.final_start_time.replace(/-/g,"/")).getMonth():null,h=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&2===t.storeInfo.presell_type&&t.storeInfo.final_start_time&&t.storeInfo.final_end_time?new Date(t.storeInfo.final_start_time.replace(/-/g,"/")).getDate():null,p=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&2===t.storeInfo.presell_type&&t.storeInfo.final_start_time&&t.storeInfo.final_end_time?new Date(t.storeInfo.final_start_time.replace(/-/g,"/")).getHours():null,f=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&2===t.storeInfo.presell_type&&t.storeInfo.final_start_time&&t.storeInfo.final_end_time?new Date(t.storeInfo.final_start_time.replace(/-/g,"/")).getMinutes():null,d=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&2===t.storeInfo.presell_type&&t.storeInfo.final_start_time&&t.storeInfo.final_end_time?new Date(t.storeInfo.final_end_time.replace(/-/g,"/")).getMonth():null,m=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&2===t.storeInfo.presell_type&&t.storeInfo.final_start_time&&t.storeInfo.final_end_time?new Date(t.storeInfo.final_end_time.replace(/-/g,"/")).getDate():null,_=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&2===t.storeInfo.presell_type&&t.storeInfo.final_start_time&&t.storeInfo.final_end_time?new Date(t.storeInfo.final_end_time.replace(/-/g,"/")).getHours():null,g=t.storeInfo&&t.storeInfo.merchant&&2==t.storeInfo.product_type&&2===t.storeInfo.presell_type&&t.storeInfo.final_start_time&&t.storeInfo.final_end_time?new Date(t.storeInfo.final_end_time.replace(/-/g,"/")).getMinutes():null,I=t.storeInfo&&t.storeInfo.merchant&&4==t.storeInfo.product_type?t.itemNew.length:null,$=t.storeInfo&&t.storeInfo.merchant&&4==t.storeInfo.product_type?t.pink.length:null,v=t.storeInfo&&t.storeInfo.merchant&&4==t.storeInfo.product_type&&$?t.itemNew.length:null,y=t.storeInfo&&t.storeInfo.merchant&&4==t.storeInfo.product_type&&$?t.__map(t.pink,(function(e,o){var n=t.__get_orig(e),s=o<t.AllIndex&&t.pink.length>0;return{$orig:n,g19:s}})):null,S=t.storeInfo&&t.storeInfo.merchant&&4==t.storeInfo.product_type&&$?t.pink.length:null,w=t.storeInfo&&t.storeInfo.merchant&&4==t.storeInfo.product_type&&$&&S?t.pink.length:null,k=t.storeInfo&&t.storeInfo.merchant&&4==t.storeInfo.product_type&&$&&S&&!(w>t.AllIndex)?t.pink.length===t.AllIndex&&t.pink.length!==t.AllIndexDefault:null,b=t.storeInfo&&t.storeInfo.merchant?t.specsInfo.params&&t.specsInfo.params.length>0:null,x=t.storeInfo&&t.storeInfo.merchant?t.guarantee&&t.guarantee.length:null,A=t.storeInfo&&t.storeInfo.merchant&&t.storeInfo.merchant&&1!=t.hide_mer_status&&t.storeInfo.merchant.care_count&&!(t.storeInfo.merchant.care_count<1e4)?(t.storeInfo.merchant.care_count/1e4).toFixed(2):null,D=t.storeInfo&&t.storeInfo.merchant&&0==t.description.type?t.description.content.replace(/<br\/>/gi,""):null;t.$mp.data=Object.assign({},{$root:{g0:o,g1:n,g2:s,g3:r,g4:i,g5:a,g6:c,g7:u,g8:l,g9:h,g10:p,g11:f,g12:d,g13:m,g14:_,g15:g,g16:I,g17:$,g18:v,l0:y,g20:S,g21:w,g22:k,g23:b,g24:x,g25:A,g26:D}})},r=[]},"4fa9":function(t,e,o){"use strict";o.r(e);var n=o("1bf8"),s=o.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){o.d(e,t,(function(){return n[t]}))}(r);e["default"]=s.a},"5f5c":function(t,e,o){"use strict";o.r(e);var n=o("3a2b"),s=o("4fa9");for(var r in s)["default"].indexOf(r)<0&&function(t){o.d(e,t,(function(){return s[t]}))}(r);o("69db");var i=o("f0c5"),a=Object(i["a"])(s["default"],n["b"],n["c"],!1,null,"5c41c535",null,!1,n["a"],void 0);e["default"]=a.exports},6595:function(t,e,o){"use strict";(function(t,e){var n=o("4ea4");o("4c7d");n(o("66fd"));var s=n(o("5f5c"));t.__webpack_require_UNI_MP_PLUGIN__=o,e(s.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},"69db":function(t,e,o){"use strict";var n=o("2013"),s=o.n(n);s.a}},[["6595","common/runtime","common/vendor"]]]);