(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/admin/orderDetail/index"],{"11c8":function(e,t,n){"use strict";(function(e,t){var r=n("4ea4");n("4c7d");r(n("66fd"));var i=r(n("bf94"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"11f7":function(e,t,n){"use strict";n.r(t);var r=n("a1a2"),i=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},1699:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var r=function(){var e=this,t=e.$createElement,n=(e._self._c,1==e.orderInfo.is_virtual?e.__map(e.orderInfo.order_extend,(function(t,n){var r=e.__get_orig(t),i=t&&n?Array.isArray(t):null;return{$orig:r,g0:i}})):null);e.$mp.data=Object.assign({},{$root:{l0:n}})},i=[]},a1a2:function(e,t,n){"use strict";(function(e,r){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("2eee")),o=i(n("c973")),c=n("316e"),u=n("5a7e"),s=n("f26a"),d={name:"AdminOrder",components:{PriceChange:function(){n.e("components/PriceChange/index").then(function(){return resolve(n("71d4"))}.bind(null,n)).catch(n.oe)}},props:{},data:function(){return{order:!1,change:!1,order_id:"",mer_id:"",orderInfo:{_status:{},user:{}},domain:s.HTTP_REQUEST_URL,status:"",title:"",payType:"",types:"",clickNum:1,goname:""}},watch:{"$route.params.oid":function(e){void 0!=e&&(this.order_id=e,this.getIndex())}},onLoad:function(e){this.order_id=e.id,this.mer_id=e.mer_id,this.goname=e.goname,this.getIndex()},methods:{more:function(){this.order=!this.order},modify:function(e){this.change=!0,this.status=e},changeclose:function(e){this.change=e},getPhotoClickIdx:function(t,n){e.previewImage({current:t[n],urls:t})},copyKm:function(){e.setClipboardData({data:this.orderInfo.delivery_id,success:function(e){}})},copyText:function(e){var t=[{name:"收货人姓名",value:this.orderInfo.real_name},{name:"收货人电话",value:this.orderInfo.user_phone},{name:"收货人地址",value:this.orderInfo.user_address}];r.setClipboardData({data:"".concat(t.map((function(e){return"".concat(e.name,": ").concat(e.value)})).join("\n")),success:function(e){r.getClipboardData({success:function(e){r.showToast({title:"复制成功"})}})}})},getIndex:function(){var e=this;(0,c.getAdminOrderDetail)(e.mer_id,e.order_id).then((function(t){e.orderInfo=t.data}),(function(t){e.$util.Tips({title:t},{tab:3,url:1})}))},goCancellation:function(){e.navigateTo({url:"/pages/admin/cancellate_result/index?mer_id="+this.mer_id+"&code="+this.orderInfo.verify_code})},savePrice:function(e){var t=this;return(0,o.default)(a.default.mark((function n(){var r,i,o,s,d,f,l;return a.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t,i={},o=e.price,s=e.refund_price,d=r.orderInfo.refund_status,f=e.remark,i.order_id=r.orderInfo.order_id,0!=r.status){n.next=8;break}i.price=o,l={pay_postage:e.orderInfo.pay_postage,coupon_price:e.orderInfo.coupon_price,total_price:Number(e.orderInfo.total_price)},(0,c.setAdminOrderPrice)(r.mer_id,i.order_id,l).then((function(e){r.change=!1,r.$util.Tips({title:"改价成功",icon:"success"}),r.getIndex()}),(function(e){r.change=!1,r.$util.Tips({title:e})})),n.next=20;break;case 8:if(0!=r.status||1!==d){n.next=16;break}if((0,u.isMoney)(s)){n.next=11;break}return n.abrupt("return",r.$util.Tips({title:"请输入正确的金额"}));case 11:i.price=s,i.type=e.type,(0,c.setOrderRefund)(r.mer_id,i).then((function(e){r.change=!1,r.$util.Tips({title:e.message}),r.getIndex()}),(function(e){r.change=!1,r.$util.Tips({title:e})})),n.next=20;break;case 16:if(f){n.next=18;break}return n.abrupt("return",t.$util.Tips({title:"请输入备注"}));case 18:(0,c.setAdminOrderRemark)(r.mer_id,i.order_id,{remark:f}).then((function(e){r.change=!1,t.$util.Tips({title:e.message,icon:"success"}),r.getIndex()}),(function(e){r.change=!1,r.$util.Tips({title:e})}));case 20:case"end":return n.stop()}}),n)})))()},offlinePay:function(){var e=this;(0,c.setOfflinePay)(this.mer_id,{order_id:this.orderInfo.order_id}).then((function(t){e.$util.Tips({title:t.msg,icon:"success"}),e.getIndex()}),(function(t){e.$util.Tips({title:t})}))},copyNum:function(t){e.setClipboardData({data:t,success:function(){}})},copyData:function(t){e.setClipboardData({data:t,success:function(){}})}}};t.default=d}).call(this,n("543d")["default"],n("bc2e")["default"])},af0a:function(e,t,n){"use strict";var r=n("cbf4"),i=n.n(r);i.a},bf94:function(e,t,n){"use strict";n.r(t);var r=n("1699"),i=n("11f7");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("af0a");var o=n("f0c5"),c=Object(o["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],void 0);t["default"]=c.exports},cbf4:function(e,t,n){}},[["11c8","common/runtime","common/vendor"]]]);