(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/index"],{1222:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){}));var i=function(){var e=this.$createElement,t=(this._self._c,this.imgUrls.length);this.$mp.data=Object.assign({},{$root:{g0:t}})},s=[]},"21c0":function(e,t,n){"use strict";n.r(t);var i=n("1222"),s=n("747b");for(var o in s)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return s[e]}))}(o);n("7445");var u=n("f0c5"),a=Object(u["a"])(s["default"],i["b"],i["c"],!1,null,"4d03b1d3",null,!1,i["a"],void 0);t["default"]=a.exports},7445:function(e,t,n){"use strict";var i=n("e8c2"),s=n.n(i);s.a},"747b":function(e,t,n){"use strict";n.r(t);var i=n("f760"),s=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(o);t["default"]=s.a},d587:function(e,t,n){"use strict";(function(e,t){var i=n("4ea4");n("4c7d");i(n("66fd"));var s=i(n("21c0"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(s.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},e8c2:function(e,t,n){},f760:function(e,t,n){"use strict";(function(e){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n("6859"),o=n("cd6d"),u=n("59c6"),a=n("26cb"),r=i(n("569a")),c=(i(n("a50e")),n("3255")),h=(i(n("42cb")),n("f26a")),d=e.getSystemInfoSync().statusBarHeight+"px",f=(getApp(),{components:{passwordPopup:function(){Promise.all([n.e("common/vendor"),n.e("components/passwordPopup/index")]).then(function(){return resolve(n("5edd"))}.bind(null,n)).catch(n.oe)},authorize:function(){Promise.all([n.e("common/vendor"),n.e("components/Authorize")]).then(function(){return resolve(n("02f6"))}.bind(null,n)).catch(n.oe)},customTab:function(){n.e("components/customTab").then(function(){return resolve(n("40b7"))}.bind(null,n)).catch(n.oe)}},computed:(0,c.configMap)({mer_intention_open:0,hide_mer_status:1,recharge_switch:0,integral_status:0,member_status:0,balance_func_status:0,svip_switch_status:0,navigation:{}},(0,a.mapGetters)(["isLogin","viewColor","keyColor"])),filters:{dateFormat:function(e){return(0,r.default)(1e3*e).format("YYYY-MM-DD")}},data:function(){return{domain:h.HTTP_REQUEST_URL,showSkeleton:!0,isNodes:0,orderMenu:[{icon:"icon-daifukuan1",title:"待付款",url:"/pages/users/order_list/index?status=0",num:0},{icon:"icon-daifahuo1",title:"待发货",url:"/pages/users/order_list/index?status=1",num:0},{icon:"icon-daishouhuo1",title:"待收货",url:"/pages/users/order_list/index?status=2",num:0},{icon:"icon-daipingjia1",title:"待评价",url:"/pages/users/order_list/index?status=3",num:0},{icon:"icon-a-shouhoutuikuan1",title:"售后/退款",url:"/pages/users/refund/list",num:0}],imgUrls:[{url:"",pic:""}],userMenu:[],skeletonMenu:[],personalMenu:[{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0},{pic:"",name:"",isShow:!0}],autoplay:!0,circular:!0,interval:3e3,duration:500,isAuto:!1,isShowAuth:!1,orderStatusNum:{},userInfo:{aratar:"/static/f.png",is_svip:0},MyMenus:[],is_promoter:0,extension_status:0,copyright:{copyright_status:1},newData:{},activeRouter:"",sysHeight:d}},onLoad:function(){},onReady:function(){this.isNodes++},mounted:function(){this.getVersion()},onShow:function(){var e=this,t=getCurrentPages(),n=t[t.length-1].route;this.activeRouter="/"+n,this.getNav(),this.isLogin?(this.getUserInfo(),this.orderNum()):(this.orderMenu.forEach((function(e){e.num=0})),this.getMyMenus()),setTimeout((function(){e.showSkeleton=!1}),500)},methods:{authTo:function(t){this.isLogin?e.navigateTo({url:t}):this.openAuto()},goRouter:function(t){var n=getCurrentPages(),i=n[n.length-1].$page.fullPath;t.link!=i&&e.switchTab({url:t.link,fail:function(n){e.redirectTo({url:t.link})}})},getNav:function(){var t=this;(0,o.getNavigation)().then((function(n){t.newData=n.data,t.newData.status&&t.newData.status.status?e.hideTabBar():e.showTabBar()}))},toService:function(t){e.navigateTo({url:"/pages/admin/business/index?is_sys="+t})},getVersion:function(){var e=this;(0,o.getVersion)().then((function(t){e.copyright=t.data}))},filterMenus:function(e){"/pages/users/user_money/index"==e.url?e.isShow=1==this.balance_func_status:"/pages/users/user_spread_user/index"==e.url?0==this.extension_status?e.isShow=!1:1==this.extension_status&&(1==this.is_promoter?e.isShow=1==this.is_promoter&&1==this.extension_status:0==this.is_promoter&&(e.isShow=0==this.is_promoter&&1==this.extension_status,e.url="/pages/users/distributor/index")):"/pages/store/settled/index"==e.url?e.isShow=1==this.mer_intention_open:"/pages/users/user_grade/index"==e.url?e.isShow=1==this.member_status:"/pages/users/user_integral/index"==e.url?e.isShow=1==this.integral_status:e.isShow=!0},showMenu:function(e){return!e||-1===["integral","service","admin_order","verify_order","intention","promoter","balance"].indexOf(e)},goUrl:function(t){-1!=t.indexOf("http")||(-1==["/pages/goods_cate/goods_cate","/pages/order_addcart/order_addcart","/pages/user/index","/pages/plant_grass/index"].indexOf(t)?e.navigateTo({url:t}):e.switchTab({url:t}))},goChat:function(){var t=this.userInfo.service?1:0;e.navigateTo({url:"/pages/chat/customer_list/index?type=".concat(t)})},setVisit:function(){(0,s.setVisit)({url:"/pages/user/index"}).then((function(e){}))},openAuto:function(){this.isAuto=!0,this.isShowAuth=!0},onLoadFun:function(e){this.getUserInfo(),this.getMyMenus(),this.orderNum(),this.isShowAuth=!1},Setting:function(){e.openSetting({success:function(e){}})},authColse:function(e){this.isShowAuth=e},bindPhone:function(){e.navigateTo({url:"/pages/users/user_phone/index"})},getUserInfo:function(){var e=this;(0,s.getUserInfo)().then((function(t){e.userInfo=t.data,e.is_promoter=t.data.is_promoter,e.extension_status=t.data.extension_status,e.getMyMenus()}))},orderNum:function(){var e=this;(0,u.orderData)().then((function(t){var n=t.data;e.orderMenu.forEach((function(e,t){switch(e.title){case"待付款":e.num=n.noPay;break;case"待发货":e.num=n.noPostage;break;case"待收货":e.num=n.noDeliver;break;case"待评价":e.num=n.noComment;break;case"售后/退款":e.num=n.refund;break}}))}))},getMyMenus:function(){var t=this;this.MyMenus.length||(0,s.getMenuList)().then((function(n){t.personalMenu=[],n.data.menu.forEach((function(e,n){t.filterMenus(e),t.personalMenu.push(e)})),t.imgUrls=n.data.banner,e.stopPullDownRefresh()}))},goEdit:function(){this.isLogin?e.navigateTo({url:"/pages/users/user_info/index"}):this.openAuto()},goSetting:function(){this.isLogin?e.navigateTo({url:"/pages/users/user_setting/index"}):this.openAuto()},goSignIn:function(){e.navigateTo({url:"/pages/users/user_sgin/index"})},goMenuPage:function(t){this.isLogin?e.navigateTo({url:t}):this.openAuto()}},onPullDownRefresh:function(){this.getNav(),this.isLogin?(this.getUserInfo(),this.orderNum()):(this.userInfo={},this.orderMenu.forEach((function(e){e.num=0})),this.getMyMenus())}});t.default=f}).call(this,n("543d")["default"])}},[["d587","common/runtime","common/vendor"]]]);