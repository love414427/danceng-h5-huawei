(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/columnGoods/HotNewGoods/index"],{"21ca":function(t,e,i){"use strict";i.r(e);var n=i("ab24"),o=i("f1f8");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("b369");var s=i("f0c5"),c=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=c.exports},"25ea":function(t,e,i){},"6f49":function(t,e,i){"use strict";(function(t,n){var o=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i("58d4"),s=i("736f"),c=i("f823"),u=i("041f"),r=o(i("3f65")),l=i("26cb"),d={best:{desc:"新品抢先购",name:"精品推荐"},hot:{desc:"剁手必备指南",name:"热门榜单"},new:{desc:"发现品质好物",name:"首页新品"},good:{desc:"惊喜折扣价",name:"推荐单品"}},h={computed:(0,l.mapGetters)(["isLogin","uid","viewColor"]),name:"HotNewGoods",components:{GoodList:function(){i.e("components/goodList/index").then(function(){return resolve(i("9a6c"))}.bind(null,i)).catch(i.oe)},emptyPage:function(){i.e("components/emptyPage").then(function(){return resolve(i("c71c"))}.bind(null,i)).catch(i.oe)},authorize:function(){Promise.all([i.e("common/vendor"),i.e("components/Authorize")]).then(function(){return resolve(i("02f6"))}.bind(null,i)).catch(i.oe)}},props:{},data:function(){return{imgUrls:[],goodsList:[],recommendList:[],name:"",hotData:[],loaded:!1,desc:"",type:0,autoplay:!0,circular:!1,interval:3e3,duration:500,page:1,limit:8,isScroll:!0,isAuto:!1,isShowAuth:!1}},onShareAppMessage:function(){return t.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),{title:this.name||"",path:"pages/columnGoods/HotNewGoods/index?type="+this.type}},onShareTimeline:function(){return{title:this.name||"",query:{type:this.type},imageUrl:""}},onLoad:function(t){var e=this;this.type=t.type,this.getIndexGroomList(),this.getHotBanner(),(0,a.getIndexData)().then((function(t){e.hotData=t.data.hot})).finally((function(t){e.loaded=!0,e.titleInfo()}))},watch:{name:function(t){n.setNavigationBarTitle({title:t||"加载中"})}},methods:{titleInfo:function(){if(this.loaded){var t=(d[this.type]||{}).name||"精品推荐",e=this.$route?this.$route.fullPath:"/"+r.default.getNowUrl();this.hotData.forEach((function(i){i.url==e&&(t=i.title)})),this.name=t,this.desc=(d[this.type]||{}).desc||"新品抢先购"}else this.name="",this.desc=""},getIndexGroomList:function(){var t=this;if(this.isScroll){var e=this,i=this.type;(0,s.getGroomList)(i,{page:this.page,limit:this.limit}).then((function(i){e.goodsList=e.goodsList.concat(i.data.list),1==t.page&&(e.recommendList=e.goodsList.splice(0,3)),e.isScroll=i.data.list.length>=e.limit,e.page++})).catch((function(t){e.$util.Tips({title:t})}))}},getHotBanner:function(){var t=this;(0,s.getHotBanner)(this.type).then((function(e){t.imgUrls=e.data}))},onLoadFun:function(t){this.isShowAuth=!1},authColse:function(t){this.isShowAuth=t},goDetail:function(t){var e=this;(0,c.goShopDetail)(t,this.uid).then((function(i){e.isLogin?(0,u.initiateAssistApi)(t.activity_id).then((function(t){var e=t.data.product_assist_set_id;n.hideLoading(),n.navigateTo({url:"/pages/activity/assist_detail/index?id="+e})})).catch((function(t){n.showToast({title:t,icon:"none"})})):(e.isAuto=!0,e.isShowAuth=!0)}))}},onReachBottom:function(){this.getIndexGroomList()}};e.default=h}).call(this,i("bc2e")["default"],i("543d")["default"])},ab24:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=(this._self._c,this.goodsList.length>0&&!this.isScroll);this.$mp.data=Object.assign({},{$root:{g0:e}})},o=[]},b369:function(t,e,i){"use strict";var n=i("25ea"),o=i.n(n);o.a},e092:function(t,e,i){"use strict";(function(t,e){var n=i("4ea4");i("4c7d");n(i("66fd"));var o=n(i("21ca"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(o.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},f1f8:function(t,e,i){"use strict";i.r(e);var n=i("6f49"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a}},[["e092","common/runtime","common/vendor"]]]);