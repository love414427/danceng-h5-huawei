(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_get_coupon/index"],{2361:function(t,n,o){"use strict";o.r(n);var e=o("2c5e"),i=o("e05c");for(var u in i)["default"].indexOf(u)<0&&function(t){o.d(n,t,(function(){return i[t]}))}(u);o("4e13");var s=o("f0c5"),a=Object(s["a"])(i["default"],e["b"],e["c"],!1,null,"5ec56a74",null,!1,e["a"],void 0);n["default"]=a.exports},2437:function(t,n,o){},"2c5e":function(t,n,o){"use strict";o.d(n,"b",(function(){return e})),o.d(n,"c",(function(){return i})),o.d(n,"a",(function(){}));var e=function(){var t=this.$createElement,n=(this._self._c,this.couponsList.length),o=this.couponsList.length,e=o?null:!this.couponsList.length&&1==this.loading;this.$mp.data=Object.assign({},{$root:{g0:n,g1:o,g2:e}})},i=[]},"4e13":function(t,n,o){"use strict";var e=o("2437"),i=o.n(e);i.a},a0be:function(t,n,o){"use strict";(function(t,n){var e=o("4ea4");o("4c7d");e(o("66fd"));var i=e(o("2361"));t.__webpack_require_UNI_MP_PLUGIN__=o,n(i.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},b19f:function(t,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o("58d4"),i=o("26cb"),u=o("f26a"),s={components:{authorize:function(){Promise.all([o.e("common/vendor"),o.e("components/Authorize")]).then(function(){return resolve(o("02f6"))}.bind(null,o)).catch(o.oe)}},data:function(){return{domain:u.HTTP_REQUEST_URL,couponsList:[],loading:!1,loadend:!1,loadTitle:"加载更多",page:1,limit:20,isAuto:!1,isShowAuth:!1}},computed:(0,i.mapGetters)(["isLogin"]),onLoad:function(){this.isLogin||(this.isAuto=!0,this.isShowAuth=!0)},onReachBottom:function(){this.getUseCoupons()},methods:{onLoadFun:function(){this.isShowAuth=!1,this.getUseCoupons()},authColse:function(t){this.isShowAuth=t},getCoupon:function(t,n){var o=this,i=o.couponsList;(0,e.setCouponReceive)(t).then((function(t){i[n].is_use=!0,o.$set(o,"couponsList",i),o.$util.Tips({title:"领取成功"})}),(function(t){return o.$util.Tips({title:t.msg})}))},getUseCoupons:function(){var t=this;return!this.loadend&&(!this.loading&&void(0,e.getCoupons)({page:t.page,limit:t.limit}).then((function(n){var o=n.data,e=o.length<t.limit,i=t.$util.SplitArray(o,t.couponsList);t.$set(t,"couponsList",i),t.loadend=e,t.loadTitle=e?"我也是有底线的":"加载更多",t.page=t.page+1,t.loading=!1})).catch((function(n){t.loading=!1,t.loadTitle="加载更多"})))}}};n.default=s},e05c:function(t,n,o){"use strict";o.r(n);var e=o("b19f"),i=o.n(e);for(var u in e)["default"].indexOf(u)<0&&function(t){o.d(n,t,(function(){return e[t]}))}(u);n["default"]=i.a}},[["a0be","common/runtime","common/vendor"]]]);