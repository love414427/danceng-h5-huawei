(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_coupon/index"],{3559:function(t,n,o){"use strict";var i=o("9dc5"),e=o.n(i);e.a},5094:function(t,n,o){"use strict";o.r(n);var i=o("61d6"),e=o.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){o.d(n,t,(function(){return i[t]}))}(s);n["default"]=e.a},"61d6":function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=o("58d4"),e=o("26cb"),s=o("3255"),u=o("f26a"),a=(getApp(),{components:{authorize:function(){Promise.all([o.e("common/vendor"),o.e("components/Authorize")]).then(function(){return resolve(o("02f6"))}.bind(null,o)).catch(o.oe)}},data:function(){return{domain:u.HTTP_REQUEST_URL,tabIndex:1,couponsList:[],loading:!1,isAuto:!1,isShowAuth:!1,isUsed:0,tabList:[{title:"未使用"},{title:"已使用/已过期"}],limit:15,page:1,isScroll:!0,moneyBg:"/static/images/couponBg"}},computed:(0,s.configMap)(["hide_mer_status"],(0,e.mapGetters)(["isLogin","viewColor","keyColor"])),filters:{timeYMD:function(t){if(t){var n=/\d{4}-\d{1,2}-\d{1,2}/g.exec(t);return n[0]}}},onLoad:function(){this.isLogin?this.getUseCoupons():(this.isAuto=!0,this.isShowAuth=!0)},mounted:function(){},methods:{onLoadFun:function(){this.isShowAuth=!1},authColse:function(t){this.isShowAuth=t},bindTab:function(t){this.tabIndex=t+1,this.page=1,this.isScroll=!0,this.couponsList=[],this.getUseCoupons()},goStore:function(n){1!=this.hide_mer_status&&0==n.status&&t.navigateTo({url:"/pages/store/home/index?id=".concat(n.mer_id)})},getUseCoupons:function(){var t=this;this.isScroll&&(0,i.getUserCoupons)({statusTag:this.tabIndex,page:this.page,limit:this.limit}).then((function(n){t.loading=!0,t.couponsList=t.couponsList.concat(n.data.list),t.isScroll=t.couponsList.length<n.data.count,t.page++}))}},onReachBottom:function(){this.getUseCoupons()}});n.default=a}).call(this,o("543d")["default"])},"8aa9":function(t,n,o){"use strict";o.d(n,"b",(function(){return i})),o.d(n,"c",(function(){return e})),o.d(n,"a",(function(){}));var i=function(){var t=this,n=t.$createElement,o=(t._self._c,t.couponsList.length),i=o?t.__map(t.couponsList,(function(n,o){var i=t.__get_orig(n),e=t._f("timeYMD")(n.start_time),s=t._f("timeYMD")(n.end_time);return{$orig:i,f0:e,f1:s}})):null,e=!t.couponsList.length&&1==t.loading;t.$mp.data=Object.assign({},{$root:{g0:o,l0:i,g1:e}})},e=[]},"9dc5":function(t,n,o){},c1a6:function(t,n,o){"use strict";(function(t,n){var i=o("4ea4");o("4c7d");i(o("66fd"));var e=i(o("ea9b"));t.__webpack_require_UNI_MP_PLUGIN__=o,n(e.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},ea9b:function(t,n,o){"use strict";o.r(n);var i=o("8aa9"),e=o("5094");for(var s in e)["default"].indexOf(s)<0&&function(t){o.d(n,t,(function(){return e[t]}))}(s);o("3559");var u=o("f0c5"),a=Object(u["a"])(e["default"],i["b"],i["c"],!1,null,"4ca61f49",null,!1,i["a"],void 0);n["default"]=a.exports}},[["c1a6","common/runtime","common/vendor"]]]);