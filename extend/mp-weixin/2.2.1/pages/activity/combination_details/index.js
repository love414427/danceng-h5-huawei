(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/combination_details/index"],{"2de7":function(t,e,i){"use strict";i.r(e);var n=i("c9ad"),s=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=s.a},"3efd":function(t,e,i){"use strict";(function(t,e){var n=i("4ea4");i("4c7d");n(i("66fd"));var s=n(i("bd63"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(s.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},"4e12":function(t,e,i){"use strict";var n=i("7b8d"),s=i.n(n);s.a},5601:function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={jyfParser:function(){return Promise.all([i.e("common/vendor"),i.e("components/jyf-parser/jyf-parser")]).then(i.bind(null,"3192"))}},s=function(){var t=this,e=t.$createElement,i=(t._self._c,t.itemNew.length),n=t.pink.length,s=n?t.itemNew.length:null,o=n?t.__map(t.pink,(function(e,i){var n=t.__get_orig(e),s=i<t.AllIndex&&t.pink.length>0;return{$orig:n,g3:s}})):null,r=n?t.pink.length:null,a=n&&r?t.pink.length:null,c=!n||!r||a>t.AllIndex?null:t.pink.length===t.AllIndex&&t.pink.length!==t.AllIndexDefault,u=t.guarantee.length,h=t.specsInfo.params&&t.specsInfo.params.length>0,l=t.storeInfo.community&&t.storeInfo.community.length>0,d=0!=t.hide_mer_status||!t.storeInfo.merchant||t.storeInfo.merchant.care_count<1e4?null:(t.storeInfo.merchant.care_count/1e4).toFixed(2),p=0==t.hide_mer_status&&t.storeInfo.merchant?t.storeInfo.merchant.recommend&&t.storeInfo.merchant.recommend.length>0:null,f=t.priceRule.content?t.priceRule.content.replace(/<br\/>/gi,""):null;t._isMounted||(t.e0=function(e){t.H5ShareBox=!1}),t.$mp.data=Object.assign({},{$root:{g0:i,g1:n,g2:s,l0:o,g4:r,g5:a,g6:c,g7:u,g8:h,g9:l,g10:d,g11:p,g12:f}})},o=[]},"7b8d":function(t,e,i){},bd63:function(t,e,i){"use strict";i.r(e);var n=i("5601"),s=i("2de7");for(var o in s)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return s[t]}))}(o);i("4e12");var r=i("f0c5"),a=Object(r["a"])(s["default"],n["b"],n["c"],!1,null,"471c85ee",null,!1,n["a"],void 0);e["default"]=a.exports},c9ad:function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=n(i("2eee")),o=n(i("c973")),r=i("736f"),a=i("041f"),c=i("6859"),u=i("59c6"),h=i("26cb"),l=(i("cd6d"),i("f26a")),d=i("3255"),p=n(i("9673")),f=n(i("c5df")),m=t.getSystemInfoSync().statusBarHeight,g=getApp(),$={components:{passwordPopup:function(){Promise.all([i.e("common/vendor"),i.e("components/passwordPopup/index")]).then(function(){return resolve(i("5edd"))}.bind(null,i)).catch(i.oe)},productConSwiper:function(){i.e("components/productConSwiper/index").then(function(){return resolve(i("58c8"))}.bind(null,i)).catch(i.oe)},productWindow:function(){i.e("components/productWindow/index").then(function(){return resolve(i("b739"))}.bind(null,i)).catch(i.oe)},specs:function(){i.e("components/specs/index").then(function(){return resolve(i("ecaf"))}.bind(null,i)).catch(i.oe)},userEvaluation:function(){i.e("components/userEvaluation/index").then(function(){return resolve(i("35a8"))}.bind(null,i)).catch(i.oe)},shareRedPackets:function(){i.e("components/shareRedPackets/index").then(function(){return resolve(i("fb7b"))}.bind(null,i)).catch(i.oe)},home:function(){i.e("components/home/index").then(function(){return resolve(i("4cc1"))}.bind(null,i)).catch(i.oe)},countDown:function(){i.e("components/countDown/index").then(function(){return resolve(i("628d"))}.bind(null,i)).catch(i.oe)},guaranteeTemplate:function(){i.e("components/freightGuarantee/index").then(function(){return resolve(i("8f11"))}.bind(null,i)).catch(i.oe)},copyPassword:function(){i.e("components/copyPassword/index").then(function(){return resolve(i("5f00"))}.bind(null,i)).catch(i.oe)},"jyf-parser":function(){Promise.all([i.e("common/vendor"),i.e("components/jyf-parser/jyf-parser")]).then(function(){return resolve(i("3192"))}.bind(null,i)).catch(i.oe)},authorize:function(){Promise.all([i.e("common/vendor"),i.e("components/Authorize")]).then(function(){return resolve(i("02f6"))}.bind(null,i)).catch(i.oe)}},mixins:[f.default],data:function(){return{isNodes:0,sysHeight:m,attrTxt:"请选择",attrValue:"",animated:!1,id:0,replyCount:0,reply:[],storeInfo:{},combinationInfo:{},productValue:[],cart_num:1,isAuto:!1,isShowAuth:!1,isOpen:!1,actionSheetHidden:!0,posterImageStatus:!1,storeImage:"",PromotionCode:"",canvasStatus:!1,posterImage:"",posterbackgd:"/static/images/posterbackgd.png",sharePacket:{isState:!0},circular:!1,autoplay:!0,interval:3e3,duration:500,clientHeight:"",itemNew:[],indicatorDots:!1,systemStore:{},replyChance:0,CartCount:0,isDown:!0,posters:!1,weixinStatus:!1,attr:{cartAttr:!1,productAttr:[],productSelect:{}},description:"",priceRule:"",navActive:0,H5ShareBox:!1,retunTop:!0,navH:"",navList:[],opacity:0,scrollY:0,topArr:[],toView:"",height:0,heightArr:[],lock:!1,scrollTop:0,tagStyle:{img:"width:100%;display:block;"},showAnimate:!0,domain:l.HTTP_REQUEST_URL,minNum:0,pink_ok_sum:0,pink:[],AllIndexDefault:0,AllIndex:2,maxAllIndex:0,currSpid:"",codeImg:"",justifyLeft:"display: inline;",videoCoverImg:"",shipping:"",guarantee:[],guaranteeValue:"",shippingValue:"",isCopy:!1,copyUrl:"",services_type:"",specsInfo:{show:!1,params:[]},currentPage:!1,homeTop:59,selectNavList:[{name:"首页",icon:"icon-shouye8",url:"/pages/index/index",after:"dialog_after"},{name:"搜索",icon:"icon-sousuo6",url:"/pages/columnGoods/goods_search_con/index",after:"dialog_after"},{name:"购物车",icon:"icon-gouwuche7",url:"/pages/order_addcart/order_addcart",after:"dialog_after"},{name:"我的收藏",icon:"icon-shoucang3",url:"/pages/users/user_goods_collection/index",after:"dialog_after"},{name:"个人中心",icon:"icon-gerenzhongxin1",url:"/pages/user/index"}]}},computed:(0,d.configMap)(["hide_mer_status","share_pic","site_name"],(0,h.mapGetters)(["isLogin","uid","viewColor"])),onLoad:function(e){var i=this;e.spid&&(g.globalData.spid=e.spid,i.currSpid=e.spid);var n=getCurrentPages();if(n.length<=1&&(i.retunTop=!1),i.navH=g.globalData.navHeight+10,e.id&&(this.id=e.id),t.getSystemInfo({success:function(t){i.height=t.windowHeight}}),e.scene){var s=this.$util.getUrlParams(decodeURIComponent(e.scene));s.id&&(e.id=s.id),s.spid&&(g.globalData.spid=s.spid,i.currSpid=s.spid)}if(!e.id&&!e.scene)return this.$util.Tips({title:"缺少参数无法查看商品"},{tab:3,url:1});this.id=e.id,e.spid&&(g.globalData.spid=e.spid),(0,p.default)(i.currSpid,i.isLogin),i.getGoodsDetails(),this.isLogin&&(this.downloadFilePromotionCode(),this.getHistory())},onReady:function(){this.isNodes++,this.$nextTick((function(){var e=this,i=t.getMenuButtonBoundingClientRect(),n=t.createSelectorQuery().in(this);n.select("#home").boundingClientRect((function(t){e.homeTop=2*i.top+i.height-t.height})).exec()}))},onShow:function(){},onShareAppMessage:function(){return{title:this.storeInfo.store_name||"",imageUrl:this.storeInfo.image||"",path:"/pages/activity/combination_details/index?id="+this.id+"&spid="+this.uid}},onShareTimeline:function(){return{title:this.storeInfo.store_name||"",query:{id:this.id,spid:this.uid},imageUrl:this.storeInfo.image||""}},methods:{call:function(e){var i=this;if(!e)return i.$util.Tips({title:"暂无可用客服"});t.showModal({title:"提示",content:"暂无在线客服，确定拨打客服电话:"+i.storeInfo.merchant.service_phone+"吗？",success:function(e){e.confirm&&t.makePhoneCall({phoneNumber:i.storeInfo.merchant.service_phone,success:function(t){},fail:function(t){}})}})},goCustomer:function(){!1===this.isLogin?(this.isAuto=!0,this.isShowAuth=!0):t.navigateTo({url:"/pages/chat/customer_list/chat?mer_id=".concat(this.storeInfo.mer_id,"&uid=").concat(this.uid,"&productId=").concat(this.storeInfo.product_id,"&combinationId=").concat(this.id)})},showAll:function(){this.AllIndexDefault=this.AllIndex,this.AllIndex=this.pink.length},hideAll:function(){this.AllIndex=this.AllIndexDefault},seeSpecs:function(){this.specsInfo.show=!0},mySpecs:function(){this.$set(this.specsInfo,"show",!1)},goProDetail:function(e){t.redirectTo({url:"/pages/goods_details/index?id="+e.product_id})},linkPage:function(e){["/pages/index/index","/pages/order_addcart/order_addcart","/pages/user/index","/pages/plant_grass/index"].indexOf(e)>-1?t.switchTab({url:e}):t.navigateTo({url:e}),this.currentPage=!1},boxStatus:function(t){this.showAnimate=t},closeChange:function(){this.$set(this.sharePacket,"isState",!0)},showShip:function(){this.$refs.guartemplate.showShippingTel()},showGuaranee:function(){this.$refs.guartemplate.showGuaranteeTel()},showNav:function(){this.currentPage=!this.currentPage},hideNav:function(){this.currentPage=!1},getPricrRule:function(){var t=this;(0,r.priceRuleApi)(this.storeInfo.cate_id).then((function(e){t.priceRule=e.data})).catch((function(t){}))},iptCartNum:function(t){var e=this,i=parseInt(t),n=this.combinationInfo.self_count?parseInt(this.combinationInfo.self_count):999999999;i>n||i<=0?this.$nextTick((function(t){e.$set(e.attr.productSelect,"cart_num",n)})):this.$nextTick((function(t){e.$set(e.attr.productSelect,"cart_num",i)}))},returns:function(){t.navigateBack()},goHome:function(){t.switchTab({url:"/pages/index/index"})},tap:function(t){var e="past"+t;t=t;this.$set(this,"toView",e),this.$set(this,"navActive",t),this.$set(this,"lock",!0),this.$set(this,"scrollTop",t>0?this.topArr[t]-g.globalData.navHeight/2:this.topArr[t])},scroll:function(t){var e=t.detail.scrollTop,i=e/200;if(i=i>1?1:i,this.$set(this,"showAnimate",!1),this.$set(this,"opacity",i),this.$set(this,"scrollY",e),this.lock)this.$set(this,"lock",!1);else for(var n=0;n<this.topArr.length;n++)if(e<this.topArr[n]-g.globalData.navHeight/2+this.heightArr[n]){this.$set(this,"navActive",n);break}},onLoadFun:function(t){this.getGoodsDetails(),this.downloadFilePromotionCode(),this.isShowAuth=!1},getUserInfo:function(){this.$set(this.sharePacket,"isState",0==this.sharePacket.priceName),(0,c.getUserInfo)().then((function(t){}))},ChangeCartNum:function(e){var i=this.productValue[this.attrValue];if(void 0!==i||this.attr.productAttr.length||(i=this.attr.productSelect),void 0!==i){var n=i.stock||999999999,s=this.attr.productSelect;e?(s.cart_num++,s.cart_num>n&&(this.$set(this.attr.productSelect,"cart_num",n),this.$set(this,"cart_num",n),t.showToast({title:"购买数量不能超过库存",icon:"none"}))):(s.cart_num--,s.cart_num<1&&(this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"cart_num",1)))}},attrVal:function(t){this.$set(this.attr.productAttr[t.indexw],"index",this.attr.productAttr[t.indexw].attr_values[t.indexn])},ChangeAttr:function(t){var e=this.productValue[t];e&&e.stock>0?(this.$set(this.attr.productSelect,"image",e.image),this.$set(this.attr.productSelect,"price",e.price),this.$set(this.attr.productSelect,"stock",e.stock),this.$set(this.attr.productSelect,"unique",e.unique),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"attrValue",t),this.$set(this,"attrTxt","已选择")):(this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"stock",0),this.$set(this.attr.productSelect,"unique",""),this.$set(this.attr.productSelect,"cart_num",0),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择"))},setClientHeight:function(){var e=this,i=t.createSelectorQuery().in(this).select("#list0");i.fields({size:!0},(function(t){e.$set(e,"clientHeight",t.height+20)})).exec()},getGoodsDetails:function(){var e=this;t.showLoading({title:"加载中",mask:!0});var i=this;(0,a.getCombinationDetail)(i.id).then((function(n){t.hideLoading();var s=n.data.product,o=n.data;s.video_link&&s.slider_image.length>1?(e.videoCoverImg=s.slider_image[0],s.slider_image.splice(0,1)):s.video_link&&1===s.slider_image.length&&(e.videoCoverImg=s.slider_image[0]),i.$set(i,"combinationInfo",o),i.$set(i,"storeInfo",s),i.$set(i,"description",s.content),i.$set(i,"reply",n.data.product.topReply?[n.data.product.topReply]:[]),i.$set(i,"replyCount",n.data.product.replayData&&n.data.product.replayData.count),i.$set(i,"replyChance",n.data.product.replayData&&n.data.product.replayData.rate),i.$set(i.attr,"productAttr",n.data.product.attr),i.$set(i,"productValue",n.data.product.sku),i.$set(i.sharePacket,"priceName",n.data.product.priceName),i.$set(i.sharePacket,"max",n.data.product.max_extension),i.$set(i.sharePacket,"min",n.data.product.min_extension),i.$set(i,"systemStore",n.data.product.system_store),i.$set(i,"PromotionCode",s.code_base),i.$set(i,"pink",n.data.groupBuying),i.$set(i,"itemNew",n.data.successUser),i.$set(i,"shippingValue",n.data.product.temp?n.data.product.temp.name:""),i.$set(i,"guaranteeValue",n.data.product.guarantee?n.data.product.guarantee.template_name:""),i.$set(i,"guarantee",n.data.product.guaranteeTemplate?n.data.product.guaranteeTemplate:[]),i.$set(i,"shipping",n.data.product.temp?n.data.product.temp.info:""),i.$set(i.specsInfo,"params",n.data.product.params),t.setNavigationBarTitle({title:s.store_name.substring(0,7)+"..."}),i.$set(i,"storeImage",i.storeInfo.image),i.getCartCount(),setTimeout((function(){i.infoScroll()}),500),i.DefaultSelect(),i.getPricrRule(i.storeInfo.cate_id);var r=Object.keys(n.data.product.sku),a=r.map((function(t){return n.data.product.sku[t]}));e.minNum=Math.min.apply(Math,a.map((function(t){return t.down_price})))})).catch((function(e){return t.hideLoading(),i.$util.Tips({title:e},{tab:3,url:1})}))},infoScroll:function(){for(var e=this,i=[],n=[],s=0;s<e.navList.length;s++){var o=t.createSelectorQuery().in(this),r="#past"+s;o.select(r).boundingClientRect(),o.exec((function(t){var s=t[0].top,o=t[0].height;i.push(s),n.push(o),e.$set(e,"topArr",i),e.$set(e,"heightArr",n)}))}},makePhone:function(){t.makePhoneCall({phoneNumber:this.systemStore.phone})},DefaultSelect:function(){var t=this.attr.productAttr,e=[];for(var i in this.productValue)if(this.productValue[i].stock>0){e=this.attr.productAttr.length?i.split(","):[];break}for(var n=0;n<t.length;n++)this.$set(t[n],"index",e[n]);var s=this.productValue[e.join(",")];s&&t.length?(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",s.image),this.$set(this.attr.productSelect,"price",s.price),this.$set(this.attr.productSelect,"stock",s.stock),this.$set(this.attr.productSelect,"unique",s.unique),this.$set(this,"attrValue",e.join(",")),this.$set(this,"attrTxt","已选择"),0==s.stock?this.$set(this.attr.productSelect,"cart_num",0):this.$set(this.attr.productSelect,"cart_num",1)):!s&&t.length?(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"stock",0),this.$set(this.attr.productSelect,"unique",""),this.$set(this.attr.productSelect,"cart_num",0),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择")):s||t.length?s&&!t.length&&(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",s.image),this.$set(this.attr.productSelect,"price",s.price),this.$set(this.attr.productSelect,"stock",s.stock),this.$set(this.attr.productSelect,"unique",s.unique),this.$set(this,"attrValue",e.join(",")),this.$set(this,"attrTxt","已选择"),0==s.stock?this.$set(this.attr.productSelect,"cart_num",0):this.$set(this.attr.productSelect,"cart_num",1)):(this.$set(this.attr.productSelect,"store_name",this.storeInfo.store_name),this.$set(this.attr.productSelect,"image",this.storeInfo.image),this.$set(this.attr.productSelect,"price",this.storeInfo.price),this.$set(this.attr.productSelect,"stock",this.storeInfo.stock),this.$set(this.attr.productSelect,"unique",this.storeInfo.unique||""),this.$set(this.attr.productSelect,"cart_num",1),this.$set(this,"attrValue",""),this.$set(this,"attrTxt","请选择"))},openAlone:function(){t.navigateTo({url:"/pages/goods_details/index?id=".concat(this.storeInfo.old_product_id)})},setCollect:function(){if(!1===this.isLogin)this.isAuto=!0,this.isShowAuth=!0;else{var t=this;this.storeInfo.isRelation?(0,r.collectDel)({type:4,type_id:this.combinationInfo.product_group_id}).then((function(e){t.$set(t.storeInfo,"isRelation",!t.storeInfo.isRelation)})):(0,r.collectAdd)({type_id:this.combinationInfo.product_group_id,type:4}).then((function(e){t.$set(t.storeInfo,"isRelation",!t.storeInfo.isRelation)}))}},selecAttr:function(){this.$set(this.attr,"cartAttr",!0),this.$set(this,"isOpen",!0)},onMyEvent:function(){this.$set(this.attr,"cartAttr",!1),this.$set(this,"isOpen",!1)},joinCart:function(t){!1===this.isLogin?(this.isAuto=!0,this.isShowAuth=!0):this.goCat()},goCat:function(e){var i=this,n=i.productValue[this.attrValue];if(i.attrValue?i.attr.cartAttr=!i.isOpen:i.isOpen?i.attr.cartAttr=!0:i.attr.cartAttr=!i.attr.cartAttr,!0===i.attr.cartAttr&&!1===i.isOpen)return i.isOpen=!0;if(i.attr.productAttr.length&&!0===i.isOpen&&0==n.stock)return i.$util.Tips({title:"产品库存不足，请选择其它"});var s={is_new:1,product_id:i.id,cart_num:i.attr.productSelect.cart_num,product_attr_unique:void 0!==i.attr.productSelect?i.attr.productSelect.unique:"",product_type:4,spread_id:this.currSpid};(0,r.postCartAdd)(s).then((function(n){i.isOpen=!1,i.attr.cartAttr=!1,e?t.navigateTo({url:"/pages/users/order_confirm/index?cartId="+n.data.cart_id}):i.$util.Tips({title:"添加购物车成功",success:function(){i.getCartCount(!0)}})})).catch((function(t){return i.isOpen=!1,i.$util.Tips({title:t})}))},getCartCount:function(t){var e=this,i=e.isLogin;i&&(0,u.getCartCounts)().then((function(i){e.CartCount=i.data[0].count,t&&(e.animated=!0,setTimeout((function(){e.animated=!1}),500))}))},goBuy:function(t){!1===this.isLogin?(this.isAuto=!0,this.isShowAuth=!0):this.goCat(!0)},authColse:function(t){this.isShowAuth=t},listenerActionSheet:function(){!1===this.isLogin?(this.isAuto=!0,this.isShowAuth=!0):this.posters=!0},listenerActionClose:function(){this.posters=!1},posterImageClose:function(){this.posterImageStatus=!1},setDomain:function(t){return t=t?t.toString():"",t.indexOf("https://")>-1?t:t.replace("http://","https://")},downloadFilePromotionCode:function(t){var e=this,i=this;(0,r.getProductCode)(i.id,{type:"routine",product_type:4}).then(function(){var t=(0,o.default)(s.default.mark((function t(n){return s.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.codeImg=n.data.url,i.$set(i,"isDown",!1);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){i.$util.Tips({title:t}),i.posters=!1,i.$set(i,"isDown",!1),i.$set(i,"PromotionCode","")}))},goFriend:function(){this.posters=!1},goPoster:function(){var e=this;return(0,o.default)(s.default.mark((function i(){var n,o;return s.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.posterImage){i.next=4;break}return e.posterImageStatus=!0,e.posters=!1,i.abrupt("return");case 4:return n=e,n.posters=!1,n.$set(n,"canvasStatus",!0),t.showLoading({title:"海报生成中",mask:!0}),i.t0=n.posterbackgd,i.next=11,e.fileStoreImage(e.storeImage);case 11:return i.t1=i.sent,i.next=14,e.fileStoreImage(e.codeImg);case 14:return i.t2=i.sent,i.next=17,n.fileStoreImage(n.share_pic);case 17:i.t3=i.sent,o=[i.t0,i.t1,i.t2,i.t3],n.$util.goodsPosterCanvas(o,n.storeInfo.store_name,n.storeInfo.price,n.site_name,n.storeInfo.ot_price,(function(t){n.$set(n,"posterImage",t),n.$set(n,"posterImageStatus",!0),n.$set(n,"canvasStatus",!1),n.$set(n,"actionSheetHidden",!n.actionSheetHidden)}),(function(t){n.$set(n,"canvasStatus",!1)}));case 20:case"end":return i.stop()}}),i)})))()},savePosterPath:function(){var e=this;t.getSetting({success:function(i){i.authSetting["scope.writePhotosAlbum"]?t.saveImageToPhotosAlbum({filePath:e.posterImage,success:function(t){e.posterImageClose(),e.$util.Tips({title:"保存成功",icon:"success"})},fail:function(t){e.$util.Tips({title:"保存失败"})}}):t.authorize({scope:"scope.writePhotosAlbum",success:function(){t.saveImageToPhotosAlbum({filePath:e.posterImage,success:function(t){e.posterImageClose(),e.$util.Tips({title:"保存成功",icon:"success"})},fail:function(t){e.$util.Tips({title:"保存失败"})}})}})}})},imgToBase:function(t){return(0,o.default)(s.default.mark((function e(){var i;return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,c.imgToBase)({image:t});case 2:return i=e.sent,e.abrupt("return",i.data.image);case 4:case"end":return e.stop()}}),e)})))()},fileStoreImage:function(e){var i=this,n="https:"==e.split("//")[0];return n||(e="https://"+e.split("//")[1]),new Promise((function(n,s){var o=i;t.downloadFile({url:e,success:function(t){n(t.tempFilePath)},fail:function(){return o.$util.Tips({title:""})}})}))},copyPwd:function(){var t=this;(0,r.copyPasswordApi)({id:t.id,product_type:4}).then(function(){var e=(0,o.default)(s.default.mark((function e(i){return s.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.copyUrl=i.data.str,t.posters=!1,t.isCopy=!0;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},closeCopy:function(){this.isCopy=!1}}};e.default=$}).call(this,i("543d")["default"])}},[["3efd","common/runtime","common/vendor"]]]);