(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/activity/goods_seckill/index"],{4020:function(t,e,i){"use strict";(function(t,e){var n=i("4ea4");i("4c7d");n(i("66fd"));var o=n(i("aafb"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(o.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},4561:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=(this._self._c,this.timeList.length),i=0==this.seckillList.length&&(1!=this.page||0==this.active);this.$mp.data=Object.assign({},{$root:{g0:e,g1:i}})},o=[]},"815c":function(t,e,i){"use strict";var n=i("cd97"),o=i.n(n);o.a},aafb:function(t,e,i){"use strict";i.r(e);var n=i("4561"),o=i("ee78");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("815c");var c=i("f0c5"),s=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"5433362c",null,!1,n["a"],void 0);e["default"]=s.exports},cd97:function(t,e,i){},e8ce:function(t,e,i){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i("041f"),a=i("26cb"),c=i("3255"),s=i("f26a"),l={components:{passwordPopup:function(){Promise.all([i.e("common/vendor"),i.e("components/passwordPopup/index")]).then(function(){return resolve(i("5edd"))}.bind(null,i)).catch(i.oe)},home:function(){i.e("components/home/index").then(function(){return resolve(i("4cc1"))}.bind(null,i)).catch(i.oe)}},computed:(0,c.configMap)({statusBarHeight:0},(0,a.mapGetters)(["viewColor","keyColor"])),data:function(){return{domain:s.HTTP_REQUEST_URL,seckillList:[],timeList:[],active:5,scrollLeft:0,interval:0,countDownHour:"00",countDownMinute:"00",countDownSecond:"00",page:1,limit:10,loading:!1,loadend:!1,pageloading:!1,intoindex:""}},onShareAppMessage:function(){return t.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),{title:"秒杀活动",path:"pages/activity/goods_seckill/index"}},onShareTimeline:function(){return{title:"秒杀活动",query:{key:""},imageUrl:""}},onLoad:function(){this.getSeckillConfig()},methods:{goBack:function(){n.navigateBack()},getSeckillConfig:function(){var t=this;(0,o.getSeckillIndexTime)().then((function(e){var i;t.timeList=e.data.seckillTime,t.active=e.data.seckillTimeIndex,t.$nextTick((function(){t.intoindex="sort"+e.data.seckillTimeIndex})),t.timeList.map((function(t){i=t.start_time>9?t.start_time+":00":"0"+t.start_time+":00",t.time=i})),t.timeList.length&&(setTimeout((function(){t.loading=!0}),2e3),t.seckillList=[],t.page=1,t.getSeckillList(),setTimeout((function(){}),500))}))},getSeckillList:function(){var t=this,e={page:t.page,limit:t.limit,start_time:t.timeList[t.active].start_time,end_time:t.timeList[t.active].end_time};t.loadend||t.pageloading||(this.pageloading=!0,(0,o.getSeckillList)(e).then((function(e){var i=e.data.list;i.map((function(t){t.percent=0===t.stock?"0%":(100*t.sales/t.stock).toFixed(2)+"%"}));var o=i.length<t.limit;t.page++,t.seckillList=t.seckillList.concat(i),n.stopPullDownRefresh(),t.pageloading=!1,t.loadend=o})).catch((function(e){t.pageloading=!1})))},settimeList:function(t,e){this.active=e,this.interval&&(clearInterval(this.interval),this.interval=null),this.interval=0,this.countDownHour="00",this.countDownMinute="00",this.countDownSecond="00",this.loadend=!1,this.page=1,this.seckillList=[],this.getSeckillList()},goDetails:function(t){n.navigateTo({url:"/pages/activity/goods_seckill_details/index?id="+t.product_id})}},onPullDownRefresh:function(){this.page=1,this.pageloading=!1,this.loadend=!1,this.seckillList=[],this.getSeckillList()},onReachBottom:function(){this.getSeckillList()}};e.default=l}).call(this,i("bc2e")["default"],i("543d")["default"])},ee78:function(t,e,i){"use strict";i.r(e);var n=i("e8ce"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a}},[["4020","common/runtime","common/vendor"]]]);