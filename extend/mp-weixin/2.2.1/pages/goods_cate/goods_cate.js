(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods_cate/goods_cate"],{"3e53":function(e,t,a){"use strict";a.r(t);var n=a("6365"),o=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(i);t["default"]=o.a},"5b43":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=(e._self._c,e.__map(e.productList,(function(t,a){var n=e.__get_orig(t),o=t.children&&t.children.length>0;return{$orig:n,g0:o}}))),n=e.hotList.length>0&&0==e.navActive;e.$mp.data=Object.assign({},{$root:{l0:a,g1:n}})},o=[]},6365:function(e,t,a){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a("736f"),i=a("cd6d"),c=a("3255"),r=a("26cb"),s=a("f26a"),d=(getApp(),{components:{easyLoadimage:function(){Promise.all([a.e("common/vendor"),a.e("components/easy-loadimage/easy-loadimage")]).then(function(){return resolve(a("2243"))}.bind(null,a)).catch(a.oe)},customTab:function(){a.e("components/customTab").then(function(){return resolve(a("40b7"))}.bind(null,a)).catch(a.oe)},passwordPopup:function(){Promise.all([a.e("common/vendor"),a.e("components/passwordPopup/index")]).then(function(){return resolve(a("5edd"))}.bind(null,a)).catch(a.oe)}},computed:(0,c.configMap)({navigation:{}},(0,r.mapGetters)(["viewColor","keyColor"])),data:function(){return{domain:s.HTTP_REQUEST_URL,showSkeleton:!0,isNodes:0,scrollTop:0,navlist:[],hotList:[],productList:[{cate_name:"skeleton",store_category_id:0,children:[{cate_name:"skeleton",store_category_id:10,children:[{cate_name:"",store_category_id:101},{cate_name:"",store_category_id:102},{cate_name:"",store_category_id:103},{cate_name:"",store_category_id:104},{cate_name:"",store_category_id:105},{cate_name:"",store_category_id:106}]}]},{cate_name:"skeleton",store_category_id:2,children:[{cate_name:"skeleton",store_category_id:30}]},{cate_name:"skeleton",store_category_id:3,children:[{cate_name:"skeleton",store_category_id:31}]},{cate_name:"skeleton",store_category_id:4,children:[{cate_name:"skeleton",store_category_id:32}]},{cate_name:"skeleton",store_category_id:5,children:[{cate_name:"skeleton",store_category_id:33}]},{cate_name:"skeleton",store_category_id:6,children:[{cate_name:"skeleton",store_category_id:34}]},{cate_name:"skeleton",store_category_id:7,children:[{cate_name:"skeleton",store_category_id:35}]},{cate_name:"skeleton",store_category_id:8,children:[{cate_name:"skeleton",store_category_id:36}]},{cate_name:"skeleton",store_category_id:9,children:[{cate_name:"skeleton",store_category_id:37}]},{cate_name:"skeleton",store_category_id:10,children:[{cate_name:"skeleton",store_category_id:38}]},{cate_name:"skeleton",store_category_id:11,children:[{cate_name:"skeleton",store_category_id:39}]}],cateList:[{cate_name:"skeleton",store_category_id:10,children:[{cate_name:"",store_category_id:101},{cate_name:"",store_category_id:102},{cate_name:"",store_category_id:103},{cate_name:"",store_category_id:104},{cate_name:"",store_category_id:105},{cate_name:"",store_category_id:106}]}],navActive:0,activceCate:0,number:"",height:0,hightArr:[],winHeight:0,pidIndex:0,intoindex:"",pid:"",newData:{},activeRouter:""}},onLoad:function(t){var a=this,n=e.getStorageSync("storeIndex");t.activceCate?this.activceCate=t.activceCate:n&&(this.activceCate=n,e.removeStorageSync("storeIndex")),e.getSystemInfo({success:function(e){a.winHeight=e.windowHeight-2}}),this.getAllCategory()},onShareAppMessage:function(){return n.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),{path:this.productList[this.navActive].store_category_id}},onShareTimeline:function(){return{query:{activceCate:this.productList[this.navActive]?this.productList[this.navActive].store_category_id:0}}},onShow:function(){var t=this,a=getCurrentPages(),n=a[a.length-1].route;this.activeRouter="/"+n;var o=e.getStorageSync("storeIndex");o&&(this.activceCate=o,e.removeStorageSync("storeIndex")),this.activceCate&&(this.getCateFrom(this.productList),o&&setTimeout((function(){return t.tap(t.pidIndex,"b"+t.activceCate)}),200)),this.getNav()},onHide:function(){},onReady:function(){this.isNodes++},methods:{goRouter:function(t){var a=getCurrentPages(),n=a[a.length-1].$page.fullPath;t.link!=n&&e.switchTab({url:t.link,fail:function(a){e.redirectTo({url:t.link})}})},getNav:function(){var t=this;(0,i.getNavigation)().then((function(a){t.newData=a.data,t.newData.status&&t.newData.status.status?e.hideTabBar():e.showTabBar()}))},tap:function(e,t){this.cateList=e["children"],this.navActive=t},getAllCategory:function(){var t=this;t.pidIndex=0,(0,o.getCategoryList)().then((function(a){if(t.productList=a.data.list,t.hotList=a.data.hot,t.hotList.length>0){var n={cate_name:"推荐分类",store_category_id:0,children:[{cate_name:"推荐分类",store_category_id:1,children:t.hotList}]};t.productList.unshift(n)}t.cateList=t.productList[0]["children"],t.getCateFrom(t.productList),e.stopPullDownRefresh(),setTimeout((function(){t.showSkeleton=!1}),500)}))},getCateFrom:function(e){var t=this;e.map((function(e,a){if(t.activceCate&&e.store_category_id==t.activceCate)return t.pidIndex=a,t.navActive=a,void t.tap(e,a)}))},searchSubmitValue:function(t){if(!(this.$util.trim(t.detail.value).length>0))return this.$util.Tips({title:"请填写要搜索的产品信息"});e.navigateTo({url:"/pages/columnGoods/goods_list/index?searchValue="+t.detail.value})}},onPullDownRefresh:function(){this.getAllCategory()},onPageScroll:function(e){var t=e.scrollTop;this.scrollTop=t}});t.default=d}).call(this,a("543d")["default"],a("bc2e")["default"])},"695f":function(e,t,a){"use strict";(function(e,t){var n=a("4ea4");a("4c7d");n(a("66fd"));var o=n(a("912d"));e.__webpack_require_UNI_MP_PLUGIN__=a,t(o.default)}).call(this,a("bc2e")["default"],a("543d")["createPage"])},"912d":function(e,t,a){"use strict";a.r(t);var n=a("5b43"),o=a("3e53");for(var i in o)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(i);a("a8b0");var c=a("f0c5"),r=Object(c["a"])(o["default"],n["b"],n["c"],!1,null,"245c6b6f",null,!1,n["a"],void 0);t["default"]=r.exports},a8b0:function(e,t,a){"use strict";var n=a("ba4f"),o=a.n(n);o.a},ba4f:function(e,t,a){}},[["695f","common/runtime","common/vendor"]]]);