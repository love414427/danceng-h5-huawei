(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/list/index"],{"004b":function(t,e,n){},"109c":function(t,e,n){"use strict";var i=n("004b"),o=n.n(i);o.a},7801:function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("4c7d");i(n("66fd"));var o=i(n("7eb5"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"7c05":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n("0b33"),o=n("5a8f"),a={name:"productList",components:{Loading:function(){n.e("components/Loading/index").then(function(){return resolve(n("a869"))}.bind(null,n)).catch(n.oe)}},data:function(){return{current:"",where:{page:1,limit:20},loaded:!1,loading:!1,mer_id:"",productList:[],swiperCur:0,circular:!0}},onLoad:function(t){this.mer_id=t.mer_id,this.getList(this.mer_id)},methods:{jumpAddGoods:function(){var t=(0,o.getStorage)("addGoodsFormData");if(t&&t.product_id){["addGoodsFormData","singleSpecification","attrValue","modifyPriceData","addGoodsSecoundData","goodsDis","editGoodsDetils"].forEach((function(t){(0,o.getStorage)(t)&&(0,o.removeStorage)(t)}))}(0,o.navigateTo)(1,"/pages/product/addGoods/index",{mer_id:this.mer_id})},swiperChange:function(t){var e=t.detail,n=(e.current,e.source);"touch"===n&&(this.swiperCur=t.detail.current)},getList:function(t){var e=this;e.loading||e.loaded||(e.loading=!0,(0,i.productLstApi)(t,e.where).then((function(t){e.loading=!1,e.loaded=t.data.list.length<e.where.limit,e.productList.push.apply(e.productList,t.data.list),e.where.page=e.where.page+1}),(function(t){e.$util.Tips({title:t.msg})})))},editGoods:function(t){["addGoodsFormData","singleSpecification","attrValue","modifyPriceData","addGoodsSecoundData","goodsDis","editGoodsDetils","canChange","canChangeSecound"].forEach((function(t){(0,o.getStorage)(t)&&(0,o.removeStorage)(t)})),(0,o.navigateTo)(1,"/pages/product/addGoods/index",{mer_id:t.mer_id,product_id:t.product_id})},handleRecycle:function(t,e){var n=this;(0,o.Modal)("温馨提示",'商品"'.concat(t.store_name,'"将被加入回收站，请问是否继续?')).then((function(a){(0,i.productDeleteApi)(n.mer_id,t.product_id).then((function(t){n.$util.Tips({title:t.message,icon:"success"},(function(){n.productList.splice(e,1)}))})).catch((function(t){(0,o.Toast)("".concat(t,", 加入回收站失败"))}))}))},handleShelves:function(e,n){var i=this;0==n?t.showModal({content:"确定要下架该商品么？",success:function(n){n.confirm?(i.onAndOff(e,0),t.showToast({title:"下架成功",icon:"none"})):n.cancel}}):i.onAndOff(e,1)},onAndOff:function(t,e){var n=this;(0,i.productOffApi)(n.mer_id,t.product_id,{status:e}).then((function(e){n.$util.Tips({title:e.message,icon:"success"},(function(){n.$set(t,"is_show",0==t.is_show?1:0)}))})).catch((function(t){return n.$util.Tips({title:t})}))},handleRecommend:function(t){var e=this,n=t.is_good?0:1;(0,i.productRecommendApi)(e.mer_id,t.product_id,{is_good:n}).then((function(n){e.$util.Tips({title:n.message,icon:"success"},(function(){e.$set(t,"is_good",0==t.is_good?1:0)}))})).catch((function(t){return e.$util.Tips({title:t})}))},more:function(t){this.current=t}},onReachBottom:function(){this.getList(this.mer_id)}};e.default=a}).call(this,n("543d")["default"])},"7eb5":function(t,e,n){"use strict";n.r(e);var i=n("a25d"),o=n("98e3");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("109c");var c=n("f0c5"),d=Object(c["a"])(o["default"],i["b"],i["c"],!1,null,"45f78d5e",null,!1,i["a"],void 0);e["default"]=d.exports},"98e3":function(t,e,n){"use strict";n.r(e);var i=n("7c05"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},a25d:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e,n){var i=arguments[arguments.length-1].currentTarget.dataset,o=i.eventParams||i["event-params"];n=o.item;e.stopPropagation(),t.handleShelves(n)})},o=[]}},[["7801","common/runtime","common/vendor"]]]);