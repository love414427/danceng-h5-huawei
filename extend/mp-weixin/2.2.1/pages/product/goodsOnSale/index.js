(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/goodsOnSale/index"],{"0559":function(t,e,i){"use strict";var n=i("43f9"),o=i.n(n);o.a},"1ba6":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){}));var n=function(){var t=this.$createElement,e=(this._self._c,this.menuList.length),i=this.shopList.length;this.$mp.data=Object.assign({},{$root:{g0:e,g1:i}})},o=[]},"43f9":function(t,e,i){},"466a":function(t,e,i){"use strict";(function(t){var n=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("9523")),s=i("0b33"),a=i("5a8f");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){(0,o.default)(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var d={components:{Loading:function(){i.e("components/Loading/index").then(function(){return resolve(i("a869"))}.bind(null,i)).catch(i.oe)}},data:function(){return{type:1,tabClick:0,tabLeft:0,isLeft:0,isWidth:0,childIndex:0,menuList:[],merId:"",shopList:[],loaded:!1,loading:!1,where:{page:1,limit:15,keyword:""},canNotReade:!0}},created:function(){var e=this;t.getSystemInfo({success:function(t){e.isWidth=t.windowWidth/5}})},onLoad:function(t){this.merId=t.mer_id,this.getProductTitle(),this.$set(this,"type",t.type?Number(t.type):1),this.initData()},onShow:function(){},onReachBottom:function(){this.initData()},methods:{initData:function(){var t=this;t.loading||t.loaded||(t.loading=!0,(0,s.productLstApi)(this.merId,r(r({},this.where),{},{type:this.type})).then((function(e){t.loading=!1,t.loaded=e.data.list.length<t.where.limit,t.shopList.push.apply(t.shopList,e.data.list),t.where.page=t.where.page+1}),(function(e){t.$util.Tips({title:e.msg})})))},search:function(){this.loading=this.loaded=!1,this.where.page=1,this.shopList=[],this.initData()},getProductTitle:function(){var t=this;(0,s.productTitle)(this.merId).then((function(e){t.menuList=e.data;var i=1;t.menuList.forEach((function(e,n){e.type==t.type&&(i=n)})),t.setMenuLeft(i)}))},selectMenu:function(t,e){this.type=t.type,this.loading=this.loaded=!1,this.where.page=1,this.shopList=[],this.setMenuLeft(e)},setMenuLeft:function(t){if(this.childIndex=0,this.menuList.length>5){var e=t-2;e=e<=0?0:e;var i=(t-2)*this.isWidth;this.$nextTick((function(){this.$set(this,"tabLeft",i)}))}this.tabClick=t,this.isLeft=t*this.isWidth,this.initData()},reduction:function(t,e){var i=this;(0,a.Modal)("温馨提示",'商品"'.concat(t.store_name,'"，将被还原，请问是否继续')).then((function(){(0,s.productRestore)(i.merId,t.product_id).then((function(t){i.$util.Tips({title:t.message,icon:"success"}),i.shopList.splice(e,1)}))}))},editGoods:function(t){["addGoodsFormData","singleSpecification","attrValue","modifyPriceData","addGoodsSecoundData","goodsDis","editGoodsDetils","canChange","canChangeSecound"].forEach((function(t){(0,a.getStorage)(t)&&(0,a.removeStorage)(t)})),(0,a.navigateTo)(1,"/pages/product/addGoods/index",(0,o.default)({mer_id:this.merId,type:"edit",product_id:t.product_id},"type","edit"))},handleDelete:function(t,e){var i=this;1==t.is_del?(0,a.Modal)("温馨提示",'商品"'.concat(t.store_name,'"将被删除，请问是否继续?')).then((function(n){(0,s.productDestory)(i.merId,t.product_id).then((function(t){i.shopList.splice(e,1),(0,a.Toast)("删除成功")})).catch((function(t){(0,a.Toast)("".concat(t))}))})):(0,a.Modal)("温馨提示",'商品"'.concat(t.store_name,'"将被加入回收站，请问是否继续?')).then((function(n){(0,s.productDeleteApi)(i.merId,t.product_id).then((function(t){i.shopList.splice(e,1),(0,a.Toast)("已加入回收站")})).catch((function(t){(0,a.Toast)("".concat(t,", 加入回收站失败"))}))}))},upperShelfAndLowerShelf:function(t,e){var i=this,n=1==t.is_show?0:1;(0,s.productOffApi)(this.merId,t.product_id,{status:n}).then((function(t){i.$util.Tips({title:t.message,icon:"success"}),i.shopList.splice(e,1)})).catch((function(t){return i.$util.Tips({title:t})}))},handleMethod:function(t,e,i){1!=t.id?2!=t.id||this.addToRecycleBin(e,i):this.upperShelfAndLowerShelf(e,i)}}};e.default=d}).call(this,i("543d")["default"])},"6aca":function(t,e,i){"use strict";(function(t,e){var n=i("4ea4");i("4c7d");n(i("66fd"));var o=n(i("b32a"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(o.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},b32a:function(t,e,i){"use strict";i.r(e);var n=i("1ba6"),o=i("c051");for(var s in o)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(s);i("0559");var a=i("f0c5"),c=Object(a["a"])(o["default"],n["b"],n["c"],!1,null,"38ac0934",null,!1,n["a"],void 0);e["default"]=c.exports},c051:function(t,e,i){"use strict";i.r(e);var n=i("466a"),o=i.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=o.a}},[["6aca","common/runtime","common/vendor"]]]);