(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/product/storeClassification/addStoreClass"],{"0820":function(t,i,e){"use strict";(function(t){Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a=e("0b33"),n={components:{},data:function(){return{parentClassify:"",formData:{cate_name:"",pic:"",pid:"",is_show:1,sort:0},is_show:!0,index:0,mer_id:"",pid:"",classifyArr:[]}},onLoad:function(t){this.mer_id=t.mer_id,this.pid=t.pid,this.getCateList(),this.pid&&this.mer_id&&this.getCateDetail()},onShow:function(){},onReady:function(){},methods:{bindPickerChange:function(t){var i=t.target.value;this.formData.pid=this.classifyArr[i]["store_category_id"],this.parentClassify=this.classifyArr[i]["cate_name"]},getCateList:function(){var t=this;(0,a.storeClassifyLst)(this.mer_id).then((function(i){t.classifyArr=i.data,t.classifyArr.unshift({cate_name:"顶级分类",store_category_id:0,children:[]}),t.pid||(t.pid=0,t.parentClassify=t.getStorCateName(0,t.classifyArr))})).catch((function(i){t.$util.Tips({title:i})}))},getCateDetail:function(){var i=this;t.showLoading({title:"加载中"}),(0,a.merClassifyDetail)(i.mer_id,i.pid).then((function(e){t.hideLoading();var a=e.data;i.formData=a,i.is_show=1==a.is_show,i.parentClassify=i.getStorCateName(a.pid,i.classifyArr)})).catch((function(t){i.$util.Tips({title:t})}))},getStorCateName:function(t,i){for(var e=0;e<i.length;e++)if(i[e].store_category_id===t)return i[e]["cate_name"]},handleChooseImage:function(){var t=this;t.$util.uploadImageOne("upload/image",(function(i){t.$set(t.formData,"pic",i.data.path)}))},deleteImage:function(t){this.formData.pic=""},submit:function(){var i=this;i.formData.is_show=i.is_show?1:0,i.formData.pid=i.formData.pid?i.formData.pid:0;var e=i.formData;if(!e.cate_name)return i.$util.Tips({title:"请输入分类名称"});i.pid?(0,a.merClassifyUpdate)(i.mer_id,i.pid,i.formData).then((function(e){200==e.status&&(i.$util.Tips({title:e.message}),setTimeout((function(){t.redirectTo({url:"/pages/product/storeClassification/index?mer_id="+i.mer_id})}),1e3))})).catch((function(t){i.$util.Tips({title:t})})):(0,a.merClassifyAdd)(i.mer_id,i.formData).then((function(e){200==e.status&&(i.$util.Tips({title:e.message}),setTimeout((function(){t.redirectTo({url:"/pages/product/storeClassification/index?mer_id="+i.mer_id})}),1e3))})).catch((function(t){i.$util.Tips({title:t})}))}}};i.default=n}).call(this,e("543d")["default"])},"2deb":function(t,i,e){"use strict";e.r(i);var a=e("5830"),n=e("9762");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(s);e("88df");var r=e("f0c5"),o=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"bdc3a4a0",null,!1,a["a"],void 0);i["default"]=o.exports},5830:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,e=(t._self._c,t.formData.cate_name?t.formData.cate_name.length:null);t._isMounted||(t.e0=function(i){t.is_show=!t.is_show}),t.$mp.data=Object.assign({},{$root:{g0:e}})},n=[]},8253:function(t,i,e){"use strict";(function(t,i){var a=e("4ea4");e("4c7d");a(e("66fd"));var n=a(e("2deb"));t.__webpack_require_UNI_MP_PLUGIN__=e,i(n.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},"88df":function(t,i,e){"use strict";var a=e("a6cb"),n=e.n(a);n.a},9762:function(t,i,e){"use strict";e.r(i);var a=e("0820"),n=e.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(s);i["default"]=n.a},a6cb:function(t,i,e){}},[["8253","common/runtime","common/vendor"]]]);