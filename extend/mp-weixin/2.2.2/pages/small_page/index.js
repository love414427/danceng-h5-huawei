(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/small_page/index","components/customTab","components/recommend/index"],{1857:function(e,t,n){"use strict";n.r(t);var o=n("4929"),i=n("ea82");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("185a");var c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"14da9d52",null,!1,o["a"],void 0);t["default"]=u.exports},"185a":function(e,t,n){"use strict";var o=n("796f"),i=n.n(o);i.a},"31b4":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={easyLoadimage:function(){return Promise.all([n.e("common/vendor"),n.e("components/easy-loadimage/easy-loadimage")]).then(n.bind(null,"2243"))}},i=function(){var e=this,t=e.$createElement,n=(e._self._c,e.navIndex>0?e.sortList.length:null),o=e.navIndex>0&&n>0?e.sortList.length:null,i=e.navIndex>0?e.sortProduct.length:null,a=e.navIndex>0&&i>0?e.sortProduct.length>0||e.sortProductLoading:null,c=e.navIndex>0?e.sortProduct.length:null;e.$mp.data=Object.assign({},{$root:{g0:n,g1:o,g2:i,g3:a,g4:c}})},a=[]},"40b7":function(e,t,n){"use strict";n.r(t);var o=n("6733"),i=n("46c8");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("b275a");var c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"74e8a677",null,!1,o["a"],void 0);t["default"]=u.exports},"46c8":function(e,t,n){"use strict";n.r(t);var o=n("62f7"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},4929:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={WaterfallsFlow:function(){return n.e("components/WaterfallsFlow/WaterfallsFlow").then(n.bind(null,"7612"))}},i=function(){var e=this.$createElement;this._self._c},a=[]},"4f80":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("26cb"),i=n("f823"),a=n("041f"),c=n("ddb3"),u=n("f26a"),r={components:{WaterfallsFlow:function(){n.e("components/WaterfallsFlow/WaterfallsFlow").then(function(){return resolve(n("7612"))}.bind(null,n)).catch(n.oe)}},computed:(0,o.mapGetters)(["uid"]),props:{hostProduct:{type:Array,default:function(){return[]}},indexP:{type:Boolean,default:!1},isLogin:{type:Boolean,default:!1}},data:function(){return{domain:u.HTTP_REQUEST_URL}},mounted:function(){},onPullDownRefresh:function(){var t=this;setTimeout((function(){var n=t.hostProduct.reverse();t.hostProduct=n,e.stopPullDownRefresh()}),500)},methods:{goDetail:function(t){var n=this;(0,i.goShopDetail)(t,this.uid).then((function(o){n.isLogin?(0,a.initiateAssistApi)(t.activity_id).then((function(t){var n=t.data.product_assist_set_id;e.hideLoading(),e.navigateTo({url:"/pages/activity/assist_detail/index?id="+n})})).catch((function(t){e.showToast({title:t,icon:"none"})})):(0,c.toLogin)()}))}}};t.default=r}).call(this,n("543d")["default"])},"5a11":function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("4c7d");o(n("66fd"));var i=o(n("7152"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"62f7":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={props:{newData:{type:Object,default:{}},activeRouter:{type:String,default:""}},data:function(){return{}},mounted:function(){},methods:{goRouter:function(t){var n=getCurrentPages(),o=n[n.length-1].$page.fullPath;t.link!=o&&e.switchTab({url:t.link,fail:function(n){e.redirectTo({url:t.link})}})}}};t.default=n}).call(this,n("543d")["default"])},6733:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var o=function(){var e=this.$createElement;this._self._c},i=[]},7152:function(e,t,n){"use strict";n.r(t);var o=n("31b4"),i=n("b131");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("fa34");var c=n("f0c5"),u=Object(c["a"])(i["default"],o["b"],o["c"],!1,null,"53521420",null,!1,o["a"],void 0);t["default"]=u.exports},"796f":function(e,t,n){},"841a":function(e,t,n){},b131:function(e,t,n){"use strict";n.r(t);var o=n("ee6a"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},b275a:function(e,t,n){"use strict";var o=n("841a"),i=n.n(o);i.a},b791:function(e,t,n){},ea82:function(e,t,n){"use strict";n.r(t);var o=n("4f80"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},ee6a:function(e,t,n){"use strict";(function(e,o){var i=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("9523")),c=n("6859"),u=n("58d4"),r=n("5a8f"),s=(n("937f"),n("cd6d"),n("f823")),l=n("26cb"),d=n("736f"),f=n("041f"),h=(i(n("1857")),i(n("40b7")),n("3255")),g=i(n("c5df")),p=i(n("9673")),v=n("f26a"),m=n("ddb3"),b=getApp(),_={computed:(0,h.configMap)({hide_mer_status:0,recommend_switch:0,beian_sn:"",share_title:"",site_name:"",hot_ranking_switch:0,navigation:{}},(0,l.mapGetters)(["isLogin","uid","keyColor"])),mixins:[g.default],components:{easyLoadimage:function(){Promise.all([n.e("common/vendor"),n.e("components/easy-loadimage/easy-loadimage")]).then(function(){return resolve(n("2243"))}.bind(null,n)).catch(n.oe)},home:function(){n.e("components/home/index").then(function(){return resolve(n("4cc1"))}.bind(null,n)).catch(n.oe)},activeParty:function(){n.e("pages/index/component/activeParty").then(function(){return resolve(n("f382"))}.bind(null,n)).catch(n.oe)},headerSerch:function(){n.e("pages/index/component/headerSerch").then(function(){return resolve(n("bf71"))}.bind(null,n)).catch(n.oe)},homeComb:function(){n.e("pages/index/component/homeComb").then(function(){return resolve(n("f9a3"))}.bind(null,n)).catch(n.oe)},bargain:function(){n.e("pages/index/component/bargain").then(function(){return resolve(n("d20a"))}.bind(null,n)).catch(n.oe)},coupon:function(){n.e("pages/index/component/coupon").then(function(){return resolve(n("ac25"))}.bind(null,n)).catch(n.oe)},blankPage:function(){n.e("pages/index/component/blankPage").then(function(){return resolve(n("a529"))}.bind(null,n)).catch(n.oe)},combination:function(){n.e("pages/index/component/combination").then(function(){return resolve(n("14da"))}.bind(null,n)).catch(n.oe)},customerService:function(){n.e("pages/index/component/customerService").then(function(){return resolve(n("07c4"))}.bind(null,n)).catch(n.oe)},goodList:function(){n.e("pages/index/component/goodList").then(function(){return resolve(n("7b84"))}.bind(null,n)).catch(n.oe)},guide:function(){n.e("pages/index/component/guide").then(function(){return resolve(n("ada1"))}.bind(null,n)).catch(n.oe)},liveBroadcast:function(){n.e("pages/index/component/liveBroadcast").then(function(){return resolve(n("e04b"))}.bind(null,n)).catch(n.oe)},menus:function(){n.e("pages/index/component/menus").then(function(){return resolve(n("00fb"))}.bind(null,n)).catch(n.oe)},news:function(){n.e("pages/index/component/news").then(function(){return resolve(n("ed20"))}.bind(null,n)).catch(n.oe)},topic:function(){n.e("pages/index/component/topic").then(function(){return resolve(n("b890"))}.bind(null,n)).catch(n.oe)},presellList:function(){n.e("pages/index/component/presellList").then(function(){return resolve(n("e0b0"))}.bind(null,n)).catch(n.oe)},plantList:function(){n.e("pages/index/component/plantList").then(function(){return resolve(n("3ed8"))}.bind(null,n)).catch(n.oe)},pictureCube:function(){n.e("pages/index/component/pictureCube").then(function(){return resolve(n("dccb"))}.bind(null,n)).catch(n.oe)},shopList:function(){n.e("pages/index/component/shopList").then(function(){return resolve(n("1492"))}.bind(null,n)).catch(n.oe)},richText:function(){n.e("pages/index/component/richText").then(function(){return resolve(n("073f"))}.bind(null,n)).catch(n.oe)},seckill:function(){n.e("pages/index/component/seckill").then(function(){return resolve(n("53ab"))}.bind(null,n)).catch(n.oe)},swiperBg:function(){n.e("pages/index/component/swiperBg").then(function(){return resolve(n("9a0d"))}.bind(null,n)).catch(n.oe)},tabNav:function(){n.e("pages/index/component/tabNav").then(function(){return resolve(n("90d8"))}.bind(null,n)).catch(n.oe)},titles:function(){n.e("pages/index/component/titles").then(function(){return resolve(n("9995"))}.bind(null,n)).catch(n.oe)},hotRanking:function(){n.e("pages/index/component/hotRanking").then(function(){return resolve(n("65de"))}.bind(null,n)).catch(n.oe)}},data:function(){var e;return e={domain:v.HTTP_REQUEST_URL,couponTypeMsg:{10:"通用券",11:"品类券",12:"跨店券"},styleConfig:[],showSkeleton:!0,isNodes:0,userInfo:{},loading:!1,navIndex:0,navTop:[],subscribe:!1,followUrl:"",followHid:!0,followCode:!1,sortList:[],window:!1,navH:"",couponList:[],marTop:0,loadend:!1},(0,a.default)(e,"loading",!1),(0,a.default)(e,"loadTitle","加载更多"),(0,a.default)(e,"sortProduct",[]),(0,a.default)(e,"where",{pid:0,page:1,limit:6}),(0,a.default)(e,"is_switch",!0),(0,a.default)(e,"hotPage",1),(0,a.default)(e,"hotLimit",30),(0,a.default)(e,"hotScroll",!0),(0,a.default)(e,"hotLoading",!1),(0,a.default)(e,"hotTitle","加载更多"),(0,a.default)(e,"isFixed",!0),(0,a.default)(e,"isScrolled",!1),(0,a.default)(e,"scrolled",!1),(0,a.default)(e,"tempArr",[]),(0,a.default)(e,"d",""),(0,a.default)(e,"h",""),(0,a.default)(e,"m",""),(0,a.default)(e,"s",""),(0,a.default)(e,"sum_h",""),(0,a.default)(e,"sortMarTop",0),(0,a.default)(e,"globalDatas",{}),(0,a.default)(e,"mpHeight",108),(0,a.default)(e,"currSpid",""),(0,a.default)(e,"_options",{}),(0,a.default)(e,"isIntegral",!1),(0,a.default)(e,"appUpdate",{}),(0,a.default)(e,"sortMpTop",0),(0,a.default)(e,"bgColor",""),(0,a.default)(e,"bgPic",""),(0,a.default)(e,"bgTabVal",""),(0,a.default)(e,"windowHeight",0),(0,a.default)(e,"domHeight",0),(0,a.default)(e,"isHeaderSerch",!1),(0,a.default)(e,"showCoupon",!1),(0,a.default)(e,"couponArray",[]),(0,a.default)(e,"smallPage",!1),(0,a.default)(e,"isMenu",!1),(0,a.default)(e,"isScale",!1),(0,a.default)(e,"homeCombData",{}),(0,a.default)(e,"footerStatus",!1),(0,a.default)(e,"newData",{}),(0,a.default)(e,"activeRouter",""),(0,a.default)(e,"overflow",!1),e},onShareAppMessage:function(){return e.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}),{title:this.share_title,path:"/pages/index/index?spid="+this.uid}},onShareTimeline:function(){return{title:this.share_title,query:{spid:this.uid},imageUrl:""}},onLoad:function(e){var t=this;this._options=e,t.$nextTick((function(){o.getSystemInfo({success:function(e){t.windowHeight=e.windowHeight}})})),t.pageLoad(e)},created:function(e){var t=getCurrentPages(),n=t[t.length-1].route;this.activeRouter="/"+n},onShow:function(){var e=this;e.isIntegral=o.getStorageSync("isIntegral"),e.$nextTick((function(){var t=o.createSelectorQuery();t.select("#home").boundingClientRect(),t.exec((function(t){t[0].top<=-60&&(e.isScrolled=!0)}))}))},onHide:function(){o.setStorageSync("isIntegral",!1)},onReady:function(){},watch:{globalDatas:function(e,t){}},onPullDownRefresh:function(){this.overflow=!0},methods:{pageLoad:function(e){if(e.spid?(this.currSpid=e.spid,b.globalData.spid=e.spid):(0,r.getStorage)("spid")&&(this.currSpid=(0,r.getStorage)("spid"),b.globalData.spid=(0,r.getStorage)("spid")),e.scene){var t=this.$util.getUrlParams(decodeURIComponent(e.scene));t.id&&(e.id=t.id),t.spid?(this.currSpid=t.spid,b.globalData.spid=t.spid):(0,r.getStorage)("spid")&&(this.currSpid=(0,r.getStorage)("spid"),b.globalData.spid=(0,r.getStorage)("spid"))}(0,p.default)(this.currSpid,this.isLogin),this.isLogin&&(0,h.silenceBindingSpread)(),this.getIndexConfig(),Promise.all([this.diyData(e.id)]),this.isLogin&&this.getUserInfo()},closeShare:function(){o.setStorageSync("isIntegral",!1),this.isIntegral=o.getStorageSync("isIntegral")},bindHeighta:function(e){},objToArr:function(e){var t=Object.keys(e).sort(),n=t.map((function(t){return e[t]}));return n},goRouter:function(e){var t=getCurrentPages(),n=t[t.length-1].$page.fullPath;e.link!=n&&o.switchTab({url:e.link,fail:function(t){o.redirectTo({url:e.link})}})},diyData:function(e){var t=this,n=this;n.styleConfig=[],(0,u.getPageDiy)({id:e,version:"221"}).then((function(e){setTimeout((function(){n.isNodes++}),0);var i=e.data.data;o.setNavigationBarTitle({title:i.title}),i.is_bg_color&&(n.bgColor=i.color_picker),i.is_bg_pic&&(n.bgPic=i.bg_pic,n.bgTabVal=i.bg_tab_val),n.styleConfig=n.objToArr(i.value),n.styleConfig.forEach((function(e,i,a){"headerSerch"!=e.name&&"homeComb"!=e.name||(n.isHeaderSerch=!0,"homeComb"==e.name&&(n.$set(n,"homeCombData",e),n.smallPage=!0)),"pageFoot"==e.name&&(e.status&&e.status.status&&(t.newData=e,setTimeout((function(e){n.$set(n,"footerStatus",!0)}),50)),o.setStorageSync("FOOTER_BAR",!(!e.status||!e.status.status)),e.menuList.map((function(e,t){"/pages/order_addcart/order_addcart"===e.link&&o.setStorageSync("FOOTER_ADDCART",t)})),a.splice(i,1)),"menus"==e.name&&(n.isMenu=!0),o.pageScrollTo({scrollTop:0}),n.overflow=!1}))})).catch((function(e){o.showToast({title:e,icon:"none"})}))},bindMore:function(){try{o.setStorageSync("storeIndex",this.navTop[this.navIndex].pid),o.switchTab({url:"/pages/goods_cate/goods_cate"})}catch(e){}},goDetails:function(e){var t=this;(0,s.goShopDetail)(e,this.uid).then((function(n){t.isLogin?(0,f.initiateAssistApi)(e.activity_id).then((function(e){var t=e.data.product_assist_set_id;o.hideLoading(),o.navigateTo({url:"/pages/activity/assist_detail/index?id="+t})})).catch((function(e){o.showToast({title:e,icon:"none"})})):(0,m.toLogin)()}))},getUserInfo:function(){var e=this;(0,c.getUserInfo)().then((function(t){e.userInfo=t.data}))},changeTab:function(e){var t=this;this.navIndex!=e.index&&(this.navIndex=e.index,e.index>0&&((0,d.storeCategory)({pid:e.pid}).then((function(n){t.sortList=n.data.length>9?n.data.splice(0,9):n.data,t.sortList.length>0&&(t.where.pid=e.pid,t.where.page=1,t.loadend=!1,t.loading=!1,t.sortProduct=[],t.get_product_list(),o.pageScrollTo({scrollTop:0}))})),this.sortMarTop=10))},get_product_list:function(){var e=this;e.loading||(e.loading=!0,e.loadTitle="",(0,d.getProductslist)(e.where).then((function(t){var n=t.data.list,o=e.$util.SplitArray(n,e.sortProduct),i=n.length<e.where.limit;e.loadend=i,e.loading=!1,e.loadTitle=i?"已全部加载":"加载更多",e.$set(e,"sortProduct",o),e.$set(e.where,"page",e.where.page+1)})).catch((function(t){e.loading=!1,e.loadTitle="加载更多"})))},getIndexConfig:function(){var e=this;(0,u.getIndexData)().then((function(t){t.data.category.unshift({cate_name:"首页"}),e.$set(e,"navTop",t.data.category),o.getSetting({success:function(t){t.authSetting["scope.userInfo"]?e.window=!1:e.window=!!e.couponList.length}}),e.reloadData()}))},reloadData:function(){var e=this;setTimeout((function(){e.showSkeleton=!1}),500)},goDetail:function(e){!e.activity||"2"!==e.activity.type||this.isLogin?(0,s.goShopDetail)(e,this.uid).then((function(t){o.navigateTo({url:"/pages/goods_details/index?id=".concat(e.id)})})):(0,m.toLogin)()}},mounted:function(){var e=this,t=o.createSelectorQuery().in(this);t.select("#home").boundingClientRect(),t.exec((function(t){e.domHeight=t[0].height}))},onReachBottom:function(){this.sortProduct.length>0&&this.get_product_list()},onPageScroll:function(e){if(this.isHeaderSerch){var t;t=e.scrollTop>50,this.isScrolled=t}else this.isScrolled=!1;o.$emit("scroll")}};t.default=_}).call(this,n("bc2e")["default"],n("543d")["default"])},fa34:function(e,t,n){"use strict";var o=n("b791"),i=n.n(o);i.a}},[["5a11","common/runtime","common/vendor"]]]);