(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order_pay_status/index"],{"0e76":function(t,e,i){"use strict";i.r(e);var n=i("e49b"),a=i("a13b");for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);i("abea");var o=i("f0c5"),s=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);e["default"]=s.exports},"26f7":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i("59c6"),a=(i("4d59"),i("26cb")),r=i("ddb3"),o=i("f26a"),s={components:{},filters:{timeYMD:function(t){if(t){var e=/\d{4}-\d{1,2}-\d{1,2}/g.exec(t);return e[0]}}},data:function(){return{domain:o.HTTP_REQUEST_URL,orderId:"",order_type:"",order_pay_info:{},status:0,msg:"",couponList:[],isOpen:!1,moneyBg:"/static/images/couponBg",text:"展开更多",timer:null,payResult:"正在查询支付结果..."}},computed:(0,a.mapGetters)(["isLogin","viewColor","keyColor"]),onLoad:function(t){if(!t.order_id)return this.$util.Tips({title:"缺少参数无法查看订单支付状态"},{tab:3,url:1});this.orderId=t.order_id,this.order_type=t.order_type,this.status=t.status||0,this.msg=t.msg||"",this.isLogin?this.refreshData():(0,r.toLogin)()},onHide:function(){clearInterval(this.timer),this.timer=null},methods:{refreshData:function(){var t=this;this.timer=setInterval((function(){t.getOrderPayInfo()}),1e3)},bindMore:function(){this.isOpen=!this.isOpen,this.text="展开更多"==this.text?"收起":"展开更多"},getOrderPayInfo:function(){var e=this,i=this;(0,n.getPayOrder)(i.orderId).then((function(n){i.$set(i,"order_pay_info",n.data),i.couponList=n.data.give_coupon,20==i.order_type?i.payResult=1==n.data.paid?"商品兑换成功":"支付失败":i.payResult=1==n.data.paid?"支付成功":"支付失败",t.setNavigationBarTitle({title:1==n.data.paid?"支付成功":"支付失败"}),1==n.data.paid&&(clearInterval(e.timer),e.timer=null)})).catch((function(e){t.hideLoading()}))},goIndex:function(e){t.switchTab({url:"/pages/index/index"})},goPink:function(e){t.navigateTo({url:"/pages/activity/combination_status/index?id="+e})},goOrderDetails:function(e){20==this.order_type?t.navigateTo({url:"/pages/points_mall/exchange_record?delte=1"}):0==this.order_pay_info.paid?t.navigateTo({url:"/pages/users/order_list/index"}):2==this.order_pay_info.orderList[0]["is_virtual"]?t.navigateTo({url:"/pages/users/order_list/index?status=3"}):t.navigateTo({url:"/pages/users/order_list/index?status=1"})}},destroyed:function(){clearInterval(this.timer),this.timer=null},deactivated:function(){clearInterval(this.timer),this.timer=null}};e.default=s}).call(this,i("543d")["default"])},"3c8d":function(t,e,i){},"5abf":function(t,e,i){"use strict";(function(t,e){var n=i("4ea4");i("4c7d");n(i("66fd"));var a=n(i("0e76"));t.__webpack_require_UNI_MP_PLUGIN__=i,e(a.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},a13b:function(t,e,i){"use strict";i.r(e);var n=i("26f7"),a=i.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);e["default"]=a.a},abea:function(t,e,i){"use strict";var n=i("3c8d"),a=i.n(n);a.a},e49b:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,i=(t._self._c,t.couponList.length>0&&t.order_pay_info.paid),n=i?t.__map(t.couponList,(function(e,i){var n=t.__get_orig(e),a=1==e.coupon_type?t._f("timeYMD")(e.use_start_time):null,r=1==e.coupon_type?t._f("timeYMD")(e.use_end_time):null;return{$orig:n,f0:a,f1:r}})):null,a=i?t.couponList.length:null;t.$mp.data=Object.assign({},{$root:{g0:i,l0:n,g1:a}})},a=[]}},[["5abf","common/runtime","common/vendor"]]]);