(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_get_coupon/index"],{2361:function(t,n,e){"use strict";e.r(n);var i=e("876a"),o=e("e05c");for(var a in o)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(a);e("e600");var u=e("f0c5"),s=Object(u["a"])(o["default"],i["b"],i["c"],!1,null,"2c9c50f3",null,!1,i["a"],void 0);n["default"]=s.exports},"4d8a":function(t,n,e){},"876a":function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return o})),e.d(n,"a",(function(){}));var i=function(){var t=this.$createElement,n=(this._self._c,this.couponsList.length),e=this.couponsList.length,i=e?null:!this.couponsList.length&&1==this.loading;this.$mp.data=Object.assign({},{$root:{g0:n,g1:e,g2:i}})},o=[]},a0be:function(t,n,e){"use strict";(function(t,n){var i=e("4ea4");e("4c7d");i(e("66fd"));var o=i(e("2361"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(o.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},b19f:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=e("58d4"),o=e("26cb"),a=e("f26a"),u=e("ddb3"),s={components:{},data:function(){return{domain:a.HTTP_REQUEST_URL,couponsList:[],loading:!1,loadend:!1,loadTitle:"加载更多",page:1,limit:20}},computed:(0,o.mapGetters)(["isLogin"]),onLoad:function(){this.isLogin||(0,u.toLogin)()},onReachBottom:function(){this.getUseCoupons()},methods:{getCoupon:function(t,n){var e=this,o=e.couponsList;(0,i.setCouponReceive)(t).then((function(t){o[n].is_use=!0,e.$set(e,"couponsList",o),e.$util.Tips({title:"领取成功"})}),(function(t){return e.$util.Tips({title:t.msg})}))},getUseCoupons:function(){var t=this;return!this.loadend&&(!this.loading&&void(0,i.getCoupons)({page:t.page,limit:t.limit}).then((function(n){var e=n.data,i=e.length<t.limit,o=t.$util.SplitArray(e,t.couponsList);t.$set(t,"couponsList",o),t.loadend=i,t.loadTitle=i?"我也是有底线的":"加载更多",t.page=t.page+1,t.loading=!1})).catch((function(n){t.loading=!1,t.loadTitle="加载更多"})))}}};n.default=s},e05c:function(t,n,e){"use strict";e.r(n);var i=e("b19f"),o=e.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(a);n["default"]=o.a},e600:function(t,n,e){"use strict";var i=e("4d8a"),o=e.n(i);o.a}},[["a0be","common/runtime","common/vendor"]]]);