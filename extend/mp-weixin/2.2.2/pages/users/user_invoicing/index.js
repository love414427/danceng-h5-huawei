(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/users/user_invoicing/index"],{"16f0":function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i("6859"),a={components:{home:function(){i.e("components/home/index").then(function(){return resolve(i("4cc1"))}.bind(null,i)).catch(i.oe)}},data:function(){return{id:"",receipt_title_type:"1",receipt_type:"1",drawer_phone:"",receipt_title:"",duty_paragraph:"",tel:"",address:"",bank_name:"",bank_code:"",is_default:0,email:"",isDefault:[],typeName:"增值税电子普通发票",popupType:!1,popupTitle:!1,invoiceTypeList:[{type:"1",name:"增值税电子普通发票",info:"纸质发票开出后将以邮寄形式交付"},{type:"2",name:"增值税专用发票",info:"纸质发票开出后将以邮寄形式交付"}],special_invoice:!0,invoice_func:!0,invoiceList:[],invoice_checked:"",invoice_id:"",order_id:"",news:"",cartId:"",pinkId:"",couponId:"",addressId:""}},watch:{},onLoad:function(e){this.news=e.news,this.cartId=e.cartId,this.pinkId=e.pinkId,this.couponId=e.couponId,this.addressId=e.addressId,"false"==e.special_invoice&&this.$set(this,"special_invoice",!1),this.getInvoiceDefault(),this.getInvoiceList()},methods:{getInvoiceList:function(){var e=this,t={receipt_title_type:this.receipt_title_type,receipt_type:this.receipt_type};(0,n.invoice)(t).then((function(t){for(var i=0;i<t.data.length;i++)t.data[i].user_receipt_id=t.data[i].user_receipt_id.toString(),t.data[i].is_default&&(e.invoice_id=t.data[i].user_receipt_id);e.$set(e,"invoiceList",t.data)})).catch((function(t){e.$util.Tips({title:t})}))},getInvoiceDefault:function(){var e=this,t={is_default:1,receipt_title_type:this.receipt_title_type,receipt_type:this.receipt_type};(0,n.invoice)(t).then((function(t){var i=t.data[0];e.receipt_title_type=i.receipt_title_type,e.receipt_type=i.receipt_type,e.receipt_title=i.receipt_title,e.email=i.email,e.duty_paragraph=i.duty_paragraph,e.bank_name=i.bank_name,e.bank_code=i.bank_code,e.address=i.address,e.tel=i.tel,e.invoice_id=i.user_receipt_id.toString()})).catch((function(e){}))},getInvoiceDetail:function(t){var i=this;(0,n.invoiceDetail)(t).then((function(t){e.hideLoading(),i.receipt_title_type=t.data.receipt_title_type,i.receipt_type=t.data.receipt_type,i.typeName="1"==i.receipt_type?"增值税电子普通发票":"增值税专用发票",i.receipt_title=t.data.receipt_title,i.email=t.data.email,i.duty_paragraph=t.data.duty_paragraph,i.bank_name=t.data.bank_name,i.bank_code=t.data.bank_code,i.address=t.data.address,i.tel=t.data.tel,i.is_default=t.data.is_default})).catch((function(t){e.hideLoading(),i.$util.Tips({title:t})}))},callType:function(){this.popupType=!0},changeType:function(e){var t=this;this.receipt_type=e.detail.value,this.typeName=this.invoiceTypeList.find((function(e){return e.type==t.receipt_type})).name,this.getInvoiceList()},closeType:function(){this.popupType=!1},callTitle:function(){this.popupTitle=!0},changeTitle:function(e){this.invoice_id=e.detail.value.toString(),this.getInvoiceDetail(e.detail.value),this.popupTitle=!1},addTitle:function(){e.navigateTo({url:"/pages/users/user_invoice_list/index"})},closeTitle:function(){this.popupTitle=!1},changeHeader:function(e){this.receipt_title_type=e.detail.value,1==e.detail.value&&(this.receipt_type=1,this.typeName="增值税电子普通发票"),this.receipt_type,this.getInvoiceDefault(),this.getInvoiceList()},changeDefault:function(e){this.is_default=e.detail.value.length?1:0},formSubmit:function(t){e.navigateTo({url:"/pages/users/order_confirm/index?new="+this.news+"&cartId="+this.cartId+"&addressId="+this.addressId+"&pinkId="+this.pinkId+"&couponId="+this.couponId+"&invoice_id="+this.invoice_id+"&invoice_type="+this.receipt_type})},goBack:function(){e.navigateTo({url:"/pages/users/order_confirm/index?new="+this.news+"&cartId="+this.cartId+"&addressId="+this.addressId+"&pinkId="+this.pinkId+"&couponId="+this.couponId})}}};t.default=a}).call(this,i("543d")["default"])},2576:function(e,t,i){},"2e42":function(e,t,i){"use strict";var n=i("2576"),a=i.n(n);a.a},"3bea":function(e,t,i){"use strict";(function(e,t){var n=i("4ea4");i("4c7d");n(i("66fd"));var a=n(i("9413"));e.__webpack_require_UNI_MP_PLUGIN__=i,t(a.default)}).call(this,i("bc2e")["default"],i("543d")["createPage"])},9413:function(e,t,i){"use strict";i.r(t);var n=i("d402"),a=i("e1bb");for(var c in a)["default"].indexOf(c)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(c);i("2e42");var d=i("f0c5"),o=Object(d["a"])(a["default"],n["b"],n["c"],!1,null,"501816ad",null,!1,n["a"],void 0);t["default"]=o.exports},d402:function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},a=[]},e1bb:function(e,t,i){"use strict";i.r(t);var n=i("16f0"),a=i.n(n);for(var c in n)["default"].indexOf(c)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(c);t["default"]=a.a}},[["3bea","common/runtime","common/vendor"]]]);