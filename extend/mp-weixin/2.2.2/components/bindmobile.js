(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/bindmobile"],{5802:function(t,e,n){"use strict";n.r(e);var i=n("b1c2"),c=n("c617");for(var r in c)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return c[t]}))}(r);n("e005");var o=n("f0c5"),u=Object(o["a"])(c["default"],i["b"],i["c"],!1,null,"3f6a4441",null,!1,i["a"],void 0);e["default"]=u.exports},b1c2:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement;this._self._c},c=[]},bbe2:function(t,e,n){"use strict";(function(t){var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c=i(n("2eee")),r=i(n("c973")),o=i(n("9523")),u=i(n("e1ea")),s=n("58d4"),a=n("6859"),l=n("26cb"),f=n("3255");function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={props:{isCommuity:{type:Boolean,default:!1}},mixins:[u.default],components:{Verify:function(){n.e("components/verify/verify").then(function(){return resolve(n("496c"))}.bind(null,n)).catch(n.oe)}},data:function(){return{phone:"",captcha:"",key:"",codeVal:"",popup:{show:!1}}},computed:d(d({},(0,l.mapGetters)(["isLogin","viewColor"])),(0,f.configMap)(["wechat_phone_switch"])),onLoad:function(){},methods:{closePopup:function(){this.$emit("close")},getPhoneNumber:function(e){var n=this;(0,s.appletsDecrypt)({iv:e.detail.iv,encryptedData:e.detail.encryptedData,code:n.codeVal}).then((function(e){n.$util.Tips({title:"绑定成功！",icon:"success"}),setTimeout((function(){t.switchTab({url:"/pages/user/index"})}),2e3)}))},editPwd:function(){var e=this;return e.phone?/^1(3|4|5|7|8|9|6)\d{9}$/i.test(e.phone)?e.captcha?void(0,s.bindingPhone)({phone:e.phone,sms_code:e.captcha}).then((function(n){return void 0!==n.data&&n.data.is_bind?t.showModal({title:"是否绑定手机号",content:n.msg,confirmText:"绑定",success:function(t){if(t.confirm)(0,s.bindingPhone)({phone:e.phone,captcha:e.captcha,step:1}).then((function(t){return e.$emit("close"),e.$util.Tips({title:t.msg,icon:"success"})})).catch((function(t){return e.$util.Tips({title:t})}));else if(t.cancel)return e.$util.Tips({title:"您已取消绑定！"},{tab:5,url:"/pages/users/user_info/index"})}}):e.$emit("close"),e.$util.Tips({title:"绑定成功！",icon:"success"})})).catch((function(t){return e.$util.Tips({title:t})})):e.$util.Tips({title:"请填写验证码"}):e.$util.Tips({title:"请输入正确的手机号码！"}):e.$util.Tips({title:"请输入手机号码！"})},code:function(t){var e=this;return(0,r.default)(c.default.mark((function n(){var i;return c.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e,i.phone){n.next=3;break}return n.abrupt("return",i.$util.Tips({title:"请填写手机号码！"}));case 3:if(/^1(3|4|5|7|8|9|6)\d{9}$/i.test(i.phone)){n.next=5;break}return n.abrupt("return",i.$util.Tips({title:"请输入正确的手机号码！"}));case 5:return e.disabled=!0,n.next=8,(0,a.registerVerify)({phone:i.phone,key:i.key,code:i.captcha,type:"binding",captchaType:"blockPuzzle",captchaVerification:t.captchaVerification}).then((function(t){e.disabled=!1,i.$util.Tips({title:t.msg}),i.sendCode()})).catch((function(t){return e.disabled=!1,i.$util.Tips({title:t})}));case 8:case"end":return n.stop()}}),n)})))()},success:function(t){this.$refs.verify.hide(),this.code(t)},handleVerify:function(){return this.phone?/^1(3|4|5|7|8|9|6)\d{9}$/i.test(this.phone)?void this.$refs.verify.show():this.$util.Tips({title:"请输入正确的手机号码！"}):this.$util.Tips({title:"请填写手机号码！"})}}};e.default=h}).call(this,n("543d")["default"])},c617:function(t,e,n){"use strict";n.r(e);var i=n("bbe2"),c=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e["default"]=c.a},e005:function(t,e,n){"use strict";var i=n("e72d5"),c=n.n(i);c.a},e72d5:function(t,e,n){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/bindmobile-create-component',
    {
        'components/bindmobile-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("5802"))
        })
    },
    [['components/bindmobile-create-component']]
]);
